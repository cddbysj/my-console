{"version":3,"sources":["../node_modules/antd/es/card/style/css.js","../node_modules/antd/es/card/Grid.js","../node_modules/antd/es/card/Meta.js","../node_modules/antd/es/card/index.js","../node_modules/classnames/bind.js","../node_modules/@ant-design/icons-svg/es/asn/PlusCircleTwoTone.js","../node_modules/@ant-design/icons/es/icons/PlusCircleTwoTone.js","../node_modules/@ant-design/icons-svg/es/asn/BulbTwoTone.js","../node_modules/@ant-design/icons/es/icons/BulbTwoTone.js","pages/work/order/certificatesManage.js","hooks/useCertificates.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Grid","_a","prefixCls","className","_a$hoverable","hoverable","props","React","ConfigConsumer","_ref","prefix","getPrefixCls","classString","classNames","concat","_defineProperty","_extends","Meta","customizePrefixCls","avatar","title","description","others","avatarDom","titleDom","descriptionDom","MetaDetail","Card","_extends2","_classNames","head","_React$useContext","ConfigContext","direction","size","SizeContext","extra","_props$headStyle","headStyle","_props$bodyStyle","bodyStyle","loading","_props$bordered","bordered","customizeSize","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","_props$tabProps","tabProps","loadingBlockStyle","padding","undefined","block","loadingBlock","style","Row","gutter","Col","span","hasActiveTabKey","extraProps","tabs","Tabs","onChange","key","onTabChange","map","item","TabPane","tab","disabled","coverDom","body","actionDom","action","index","width","getAction","divProps","omit","mergedSize","containGrid","forEach","element","isContainGrid","hasOwn","classes","arguments","arg","argType","push","this","Array","isArray","apply","join","module","exports","default","PlusCircleTwoTone","primaryColor","secondaryColor","ref","AntdIcon","assign","icon","PlusCircleTwoToneSvg","displayName","BulbTwoTone","BulbTwoToneSvg","cx","bind","styles","CertificatesManagePage","useState","filter","setFilter","certificates","setCertificates","useEffect","firebase","onSnapshot","snapshot","doc","data","orderId","arrivalAt","products","preparePrintAt","printDone","keys","name","useCertificates","initialCardQueue","JSON","parse","localStorage","getItem","cardQueue","setCardQueue","setItem","stringify","removeItem","addToCardQueue","card","a","finishCertificatesPrint","prev","message","success","defaultActiveKey","Group","target","value","defaultValue","Button","grid","xl","md","dataSource","renderItem","Item","onClick","EditTwoTone","EllipsisOutlined","quantity","color","date","Date","toLocaleString","ellipsis","PrinterOutlined","window","print","DeleteOutlined","cardArea","from","container","cardHeader","MinusOutlined","cardName","model","slice","cardBody","productName","cardFooter","seal","onFinish","values","format","layout","initialValues","moment","label","rules","required","allowClear","autoFocus","min","max","htmlType"],"mappings":";gHAAA,mC,gHCGIA,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAEhG,OAAOR,GAwBMW,EAjBJ,SAAcC,GACvB,IAAIC,EAAYD,EAAGC,UACfC,EAAYF,EAAGE,UACfC,EAAeH,EAAGI,UAClBA,OAA6B,IAAjBD,GAAiCA,EAC7CE,EAAQpB,EAAOe,EAAI,CAAC,YAAa,YAAa,cAElD,OAAoBM,gBAAoBC,IAAgB,MAAM,SAAUC,GACtE,IACIC,GAASC,EADMF,EAAKE,cACE,OAAQT,GAC9BU,EAAcC,IAAW,GAAGC,OAAOJ,EAAQ,SAAUP,EAAWY,YAAgB,GAAI,GAAGD,OAAOJ,EAAQ,mBAAoBL,IAC9H,OAAoBE,gBAAoB,MAAOS,YAAS,GAAIV,EAAO,CACjEH,UAAWS,SC9Bb1B,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAEhG,OAAOR,GAsCM4B,EA/BJ,SAAcX,GACvB,OAAoBC,gBAAoBC,IAAgB,MAAM,SAAUC,GACtE,IAAIE,EAAeF,EAAKE,aAEpBO,EAAqBZ,EAAMJ,UAC3BC,EAAYG,EAAMH,UAClBgB,EAASb,EAAMa,OACfC,EAAQd,EAAMc,MACdC,EAAcf,EAAMe,YACpBC,EAASpC,EAAOoB,EAAO,CAAC,YAAa,YAAa,SAAU,QAAS,gBAErEJ,EAAYS,EAAa,OAAQO,GACjCN,EAAcC,IAAW,GAAGC,OAAOZ,EAAW,SAAUC,GACxDoB,EAAYJ,EAAsBZ,gBAAoB,MAAO,CAC/DJ,UAAW,GAAGW,OAAOZ,EAAW,iBAC/BiB,GAAU,KACTK,EAAWJ,EAAqBb,gBAAoB,MAAO,CAC7DJ,UAAW,GAAGW,OAAOZ,EAAW,gBAC/BkB,GAAS,KACRK,EAAiBJ,EAA2Bd,gBAAoB,MAAO,CACzEJ,UAAW,GAAGW,OAAOZ,EAAW,sBAC/BmB,GAAe,KACdK,EAAaF,GAAYC,EAA8BlB,gBAAoB,MAAO,CACpFJ,UAAW,GAAGW,OAAOZ,EAAW,iBAC/BsB,EAAUC,GAAkB,KAC/B,OAAoBlB,gBAAoB,MAAOS,YAAS,GAAIM,EAAQ,CAClEnB,UAAWS,IACTW,EAAWG,O,mCC3CfxC,EAAgC,SAAUC,EAAGC,GAC/C,IAAIC,EAAI,GAER,IAAK,IAAIC,KAAKH,EACRI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,IAAMF,EAAEO,QAAQL,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAG/E,GAAS,MAALH,GAAqD,oBAAjCI,OAAOK,sBAA2C,KAAIC,EAAI,EAAb,IAAgBP,EAAIC,OAAOK,sBAAsBT,GAAIU,EAAIP,EAAEQ,OAAQD,IAClIT,EAAEO,QAAQL,EAAEO,IAAM,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,MAAKR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAEhG,OAAOR,GA8BT,IAAIsC,EAAO,SAAcrB,GACvB,IAAIsB,EAAWC,EA8FXC,EA5FAC,EAAoBxB,aAAiByB,KACrCrB,EAAeoB,EAAkBpB,aACjCsB,EAAYF,EAAkBE,UAE9BC,EAAO3B,aAAiB4B,KAkBxBjB,EAAqBZ,EAAMJ,UAC3BC,EAAYG,EAAMH,UAClBiC,EAAQ9B,EAAM8B,MACdC,EAAmB/B,EAAMgC,UACzBA,OAAiC,IAArBD,EAA8B,GAAKA,EAC/CE,EAAmBjC,EAAMkC,UACzBA,OAAiC,IAArBD,EAA8B,GAAKA,EAC/CnB,EAAQd,EAAMc,MACdqB,EAAUnC,EAAMmC,QAChBC,EAAkBpC,EAAMqC,SACxBA,OAA+B,IAApBD,GAAoCA,EAC/CE,EAAgBtC,EAAM4B,KACtBW,EAAOvC,EAAMuC,KACbC,EAAQxC,EAAMwC,MACdC,EAAUzC,EAAMyC,QAChBC,EAAU1C,EAAM0C,QAChBC,EAAW3C,EAAM2C,SACjBC,EAAe5C,EAAM4C,aACrBC,EAAsB7C,EAAM6C,oBAC5BC,EAAqB9C,EAAM8C,mBAC3B/C,EAAYC,EAAMD,UAClBgD,EAAkB/C,EAAMgD,SACxBA,OAA+B,IAApBD,EAA6B,GAAKA,EAC7C/B,EAASpC,EAAOoB,EAAO,CAAC,YAAa,YAAa,QAAS,YAAa,YAAa,QAAS,UAAW,WAAY,OAAQ,OAAQ,QAAS,UAAW,UAAW,WAAY,eAAgB,sBAAuB,qBAAsB,YAAa,aAE1PJ,EAAYS,EAAa,OAAQO,GACjCqC,EAA0C,IAAtBf,EAAUgB,SAAuC,QAAtBhB,EAAUgB,QAAoB,CAC/EA,QAAS,SACPC,EACAC,EAAqBnD,gBAAoB,MAAO,CAClDJ,UAAW,GAAGW,OAAOZ,EAAW,oBAE9ByD,EAA4BpD,gBAAoB,MAAO,CACzDJ,UAAW,GAAGW,OAAOZ,EAAW,oBAChC0D,MAAOL,GACOhD,gBAAoBsD,IAAK,CACvCC,OAAQ,GACMvD,gBAAoBwD,IAAK,CACvCC,KAAM,IACLN,IAAsBnD,gBAAoBsD,IAAK,CAChDC,OAAQ,GACMvD,gBAAoBwD,IAAK,CACvCC,KAAM,GACLN,GAAqBnD,gBAAoBwD,IAAK,CAC/CC,KAAM,IACLN,IAAsBnD,gBAAoBsD,IAAK,CAChDC,OAAQ,GACMvD,gBAAoBwD,IAAK,CACvCC,KAAM,GACLN,GAAqBnD,gBAAoBwD,IAAK,CAC/CC,KAAM,IACLN,IAAsBnD,gBAAoBsD,IAAK,CAChDC,OAAQ,GACMvD,gBAAoBwD,IAAK,CACvCC,KAAM,IACLN,GAAqBnD,gBAAoBwD,IAAK,CAC/CC,KAAM,GACLN,IAAsBnD,gBAAoBsD,IAAK,CAChDC,OAAQ,GACMvD,gBAAoBwD,IAAK,CACvCC,KAAM,GACLN,GAAqBnD,gBAAoBwD,IAAK,CAC/CC,KAAM,GACLN,GAAqBnD,gBAAoBwD,IAAK,CAC/CC,KAAM,IACLN,KACCO,OAAmCR,IAAjBP,EAElBgB,EAAalD,YAASA,YAAS,GAAIsC,IAAY1B,EAAY,GAAIb,YAAgBa,EAAWqC,EAAkB,YAAc,mBAAoBA,EAAkBf,EAAeC,GAAsBpC,YAAgBa,EAAW,qBAAsBwB,GAAqBxB,IAG3QuC,EAAOnB,GAAWA,EAAQlD,OAAsBS,gBAAoB6D,IAAMpD,YAAS,CACrFkB,KAAM,SACLgC,EAAY,CACb/D,UAAW,GAAGW,OAAOZ,EAAW,cAChCmE,SA3FgB,SAAqBC,GACrC,IAAIrE,EAEyB,QAA5BA,EAAKK,EAAMiE,mBAAgC,IAAPtE,GAAyBA,EAAGP,KAAKY,EAAOgE,MAyF3EtB,EAAQwB,KAAI,SAAUC,GACxB,OAAoBlE,gBAAoB6D,IAAKM,QAAS,CACpDC,IAAKF,EAAKE,IACVC,SAAUH,EAAKG,SACfN,IAAKG,EAAKH,UAER,MAEFlD,GAASgB,GAAS+B,KACpBrC,EAAoBvB,gBAAoB,MAAO,CAC7CJ,UAAW,GAAGW,OAAOZ,EAAW,SAChC0D,MAAOtB,GACO/B,gBAAoB,MAAO,CACzCJ,UAAW,GAAGW,OAAOZ,EAAW,kBAC/BkB,GAAsBb,gBAAoB,MAAO,CAClDJ,UAAW,GAAGW,OAAOZ,EAAW,gBAC/BkB,GAAQgB,GAAsB7B,gBAAoB,MAAO,CAC1DJ,UAAW,GAAGW,OAAOZ,EAAW,WAC/BkC,IAAS+B,IAGd,IAAIU,EAAW/B,EAAqBvC,gBAAoB,MAAO,CAC7DJ,UAAW,GAAGW,OAAOZ,EAAW,WAC/B4C,GAAS,KACRgC,EAAoBvE,gBAAoB,MAAO,CACjDJ,UAAW,GAAGW,OAAOZ,EAAW,SAChC0D,MAAOpB,GACNC,EAAUkB,EAAeV,GACxB8B,EAAYhC,GAAWA,EAAQjD,OAAsBS,gBAAoB,KAAM,CACjFJ,UAAW,GAAGW,OAAOZ,EAAW,aAlJpC,SAAmB6C,GAajB,OAZiBA,EAAQyB,KAAI,SAAUQ,EAAQC,GAC7C,OAGE1E,gBAAoB,KAAM,CACxBqD,MAAO,CACLsB,MAAO,GAAGpE,OAAO,IAAMiC,EAAQjD,OAAQ,MAEzCwE,IAAK,UAAUxD,OAAOmE,IACR1E,gBAAoB,OAAQ,KAAMyE,OAyInDG,CAAUpC,IAAY,KACrBqC,GAAWC,YAAK/D,EAAQ,CAAC,gBACzBgE,GAAa1C,GAAiBV,EAC9BtB,GAAcC,IAAWX,GAAY2B,EAAc,GAAId,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,YAAauC,GAAU1B,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,aAAcyC,GAAW5B,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,cAAeG,GAAYU,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,iBAvH1T,WAClB,IAAIqF,EAMJ,OALAhF,WAAeiF,QAAQlF,EAAM2C,UAAU,SAAUwC,GAC3CA,GAAWA,EAAQ5C,MAAQ4C,EAAQ5C,OAAS7C,IAC9CuF,GAAc,MAGXA,EAgHuVG,IAAkB3E,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,iBAAkB8C,GAAWA,EAAQlD,QAASiB,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,KAAKY,OAAOwE,IAAaA,IAAavE,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,UAAUY,OAAO+B,KAASA,GAAO9B,YAAgBc,EAAa,GAAGf,OAAOZ,EAAW,QAAuB,QAAd+B,GAAsBJ,GAAc1B,GAC5tB,OAAoBI,gBAAoB,MAAOS,YAAS,GAAIoE,GAAU,CACpEjF,UAAWS,KACTkB,EAAM+C,EAAUC,EAAMC,IAG5BpD,EAAK3B,KAAOA,EACZ2B,EAAKV,KAAOA,EACGU,O,oBCzLf,OAOC,WACA,aAEA,IAAIgE,EAAS,GAAGlG,eAEhB,SAASoB,IAGR,IAFA,IAAI+E,EAAU,GAEL/F,EAAI,EAAGA,EAAIgG,UAAU/F,OAAQD,IAAK,CAC1C,IAAIiG,EAAMD,UAAUhG,GACpB,GAAKiG,EAAL,CAEA,IAAIC,SAAiBD,EAErB,GAAgB,WAAZC,GAAoC,WAAZA,EAC3BH,EAAQI,KAAKC,MAAQA,KAAKH,IAAQA,QAC5B,GAAII,MAAMC,QAAQL,GACxBF,EAAQI,KAAKnF,EAAWuF,MAAMH,KAAMH,SAC9B,GAAgB,WAAZC,EACV,IAAK,IAAIzB,KAAOwB,EACXH,EAAOjG,KAAKoG,EAAKxB,IAAQwB,EAAIxB,IAChCsB,EAAQI,KAAKC,MAAQA,KAAK3B,IAAQA,IAMtC,OAAOsB,EAAQS,KAAK,KAGgBC,EAAOC,SAC3C1F,EAAW2F,QAAU3F,EACrByF,EAAOC,QAAU1F,QAGX,kBACL,OAAOA,GADF,QAAe,OAAf,aAnCP,I,+WCLc4F,EADS,CAAE,KAAQ,SAAgBC,EAAcC,GAAkB,MAAO,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gLAAiL,KAAQD,IAAkB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,sRAAuR,KAAQC,IAAoB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,4LAA6L,KAAQD,OAAwB,KAAQ,cAAe,MAAS,W,OCK/gCD,EAAoB,SAA2BnG,EAAOsG,GACxD,OAAoBrG,gBAAoBsG,IAAUtH,OAAOuH,OAAO,GAAIxG,EAAO,CACzEsG,IAAKA,EACLG,KAAMC,MAIVP,EAAkBQ,YAAc,oBACJ1G,mBAAiBkG,G,oCCZ9BS,EADG,CAAE,KAAQ,SAAgBR,EAAcC,GAAkB,MAAO,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,+JAAgK,KAAQA,IAAoB,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,0aAA2a,KAAQD,OAAwB,KAAQ,OAAQ,MAAS,WCK74BQ,EAAc,SAAqB5G,EAAOsG,GAC5C,OAAoBrG,gBAAoBsG,IAAUtH,OAAOuH,OAAO,GAAIxG,EAAO,CACzEsG,IAAKA,EACLG,KAAMI,MAIVD,EAAYD,YAAc,cACE1G,mBAAiB2G,G,+CCoBzCE,E,OAAKvG,EAAWwG,KAAKC,KAEjB5C,E,IAAAA,QAkPO6C,UA7OgB,SAAAjH,GAAU,IAAD,EACVkH,mBAAS,eADC,mBAC/BC,EAD+B,KACvBC,EADuB,KAEhCC,ECxCO,SAAyBF,GAAS,IAAD,EACND,mBAAS,MADH,mBACvCG,EADuC,KACzBC,EADyB,KA+B9C,OA7BAC,qBAAU,WA0BR,OAzBoBC,IAASH,aAAaF,GAAQM,YAAW,SAAAC,GAC3D,IAAML,EAAe,GACrBK,EAASxC,SAAQ,SAAAyC,GAAO,MAQlBA,EAAIC,OALNC,EAHoB,EAGpBA,QACAC,EAJoB,EAIpBA,UACAC,EALoB,EAKpBA,SACAC,EANoB,EAMpBA,eACAC,EAPoB,EAOpBA,UAEFhJ,OAAOiJ,KAAKH,GAAU7C,SAAQ,SAAAiD,GAAI,OAChCd,EAAa3B,KAAb,2BACKqC,EAASI,IADd,IAEEA,OACAN,UACAC,YACAE,iBACAC,qBAKNX,EAAgBD,QAGjB,CAACF,IAEGE,EDSce,CAAgBjB,GAG/BkB,EAAmBC,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,GALpC,EAMJvB,mBAASmB,GANL,mBAM/BK,EAN+B,KAMpBC,EANoB,KAQtCpB,qBAAU,WAER,OADAiB,aAAaI,QAAQ,YAAaN,KAAKO,UAAUH,IAC1C,kBAAMF,aAAaM,WAAW,iBAIvC,IASMC,EAAc,uCAAG,WAAMC,GAAN,SAAAC,EAAA,sEACfzB,IAAS0B,wBAAwBF,EAAKnB,SAAS,GADhC,OAErBc,GAAa,SAAAQ,GAAI,OAAKH,GAAL,mBAAcG,OAC/BC,EAAA,EAAQC,QAAQ,mDAAY,IAHP,2CAAH,sDAwBpB,OACE,uBAAMC,iBAAiB,QACrB,kBAAClF,EAAD,CAASC,IAAI,eAAKL,IAAI,QACpB,yBAAKnE,UAAWiH,EAAG,UAAW,aAC5B,yBAAKjH,UAAWmH,IAAOG,QACrB,sBAAOoC,MAAP,CAAaxF,SATK,SAAAjF,GAC1BsI,EAAUtI,EAAE0K,OAAOC,QAQiCC,aAAa,sBACvD,sBAAOC,OAAP,CAAcF,MAAM,eAApB,sBACA,sBAAOE,OAAP,CAAcF,MAAM,YAApB,gBACA,sBAAOE,OAAP,CAAcF,MAAM,kBAApB,wBAGJ,iYAGA,oMACCpC,EACC,uBACEuC,KAAM,CAAEpG,OAAQ,GAAIqG,GAAI,EAAGC,GAAI,GAC/BC,WAAY1C,EACZ2C,WAAY,SAAA7F,GAAI,OACd,sBAAM8F,KAAN,KACE,uBACExH,QAAS,CACP,uBAAS3B,MAAM,8CACb,kBAAC,EAAD,CACEkD,IAAI,OACJkG,QAAS,kBAAMnB,EAAe5E,OAGlC,uBAASrD,MAAM,wCACb,kBAACqJ,EAAA,EAAD,CAAanG,IAAI,UAEnB,uBAASlD,MAAM,wCACb,kBAACsJ,EAAA,EAAD,CAAkBpG,IAAI,gBAI1B,2BAAIG,EAAKgE,MACT,gDAAOhE,EAAKkG,SAAZ,WACA,gDAEGlG,EAAK8D,UACJ,uBAAKqC,MAAM,WAAX,sBAEA,uBAAKA,MAAM,QAAX,uBAGJ,6DACA,4BAjGCC,EAiGgBpG,EAAK6D,eAjGb,IAAIwC,KAAKD,GAAME,eAAe,gBAkGvC,uBAAG5K,UAAWmH,IAAO0D,UAArB,2BAAoCvG,EAAK0D,WAlGxC,IAAA0C,KAwGT,8BAIN,kBAACnG,EAAD,CAASC,IAAI,eAAKL,IAAI,WACpB,yBAAKnE,UAAWiH,EAAG,UAAW,gBAC5B,sBAAQyC,MAAR,KACE,uBAAQ9C,KAAM,kBAACkE,EAAA,EAAD,MAAqBpI,KAAK,UAAU2H,QA/F5C,WACdU,OAAOC,UA8FC,gBAGA,uBACEpE,KAAM,kBAACqE,EAAA,EAAD,MACNvI,KAAK,SACL2H,QAhGO,WACjBvB,EAAa,MA4FL,iBAQF,2BACE,kBAAC,EAAD,MACA,sPAKHD,EAAUlJ,OACT,yBAAKK,UAAWmH,IAAO+D,UACpBrC,EAAUxE,KAAI,SAAA8E,GAAI,OACjBpD,MAAMoF,KAAK,IAAIpF,MAAMoD,EAAKqB,WAAWnG,KAAI,SAACC,EAAMQ,GAAP,OACvC,yBAAKX,IAAG,UAAKgF,EAAKb,KAAV,YAAkBa,EAAKlB,UAAvB,YAAoCnD,IAC1C,yBAAK9E,UAAWmH,IAAOiE,WACrB,6BAASpL,UAAWmH,IAAOkE,YACzB,uBAAGrL,UAAWmH,IAAOlG,OACnB,uCACA,uBACEyB,KAAK,OACL1C,UAAWiH,EAAG,gBACdL,KAAM,kBAAC0E,EAAA,EAAD,MACNjB,QAAS,kBAtGdkB,EAsG+BpC,EAAKb,UArGrDQ,GAAa,SAAAQ,GAAI,OAAIA,EAAKhC,QAAO,SAAA6B,GAAI,OAAIA,EAAKb,OAASiD,QADtC,IAAAA,MAyGC,2BACkB,QAAfpC,EAAKqC,MACFrC,EAAKb,KAAKmD,MAAM,EAAG,GACnBtC,EAAKqC,MAAO,IAHlB,UAMA,0EAEF,6BAASxL,UAAWmH,IAAOuE,UACzB,gDAEE,0BAAM1L,UAAWmH,IAAOwE,aAAcxC,EAAKb,OAE7C,sDACM,uBAAKmC,MAAM,OAAX,SAEN,4DAAStB,EAAKlB,UAAUwD,MAAM,EAAG,IACjC,kJAEF,6BAASzL,UAAWmH,IAAOyE,YACzB,uBAAG5L,UAAWmH,IAAO0E,MACnB,uBAAKpB,MAAM,OAAX,iEAEF,iHAQZ,6BAGJ,kBAAClG,EAAD,CAASC,IAAI,eAAKL,IAAI,QACpB,uBACE2H,SAtJS,SAAAC,GAAW,IAClB9D,EAAc8D,EAAd9D,UACRa,GAAa,SAAAQ,GAAI,kCACVyC,GADU,IACF9D,UAAWA,EAAU+D,OAAO,cAD1B,mBAEZ1C,OAELC,EAAA,EAAQC,QAAQ,6CAAW,KAiJrByC,OAAO,SACPC,cAAe,CACb5D,KAAM,SACNkC,SAAU,EACVgB,MAAO,KACPvD,UAAWkE,QAGb,sBAAM/B,KAAN,CACE9B,KAAK,OACL8D,MAAM,2BACNC,MAAO,CACL,CACEC,UAAU,EACV/C,QAAS,gDAIb,uBAAOgD,YAAU,EAACC,WAAS,KAE7B,sBAAMpC,KAAN,CACE9B,KAAK,WACL8D,MAAM,eACNC,MAAO,CACL,CACEC,UAAU,EACV/C,QAAS,oCAIb,uBAAakD,IAAK,EAAGC,IAAK,KAE5B,sBAAMtC,KAAN,CACE9B,KAAK,QACL8D,MAAM,2BACNC,MAAO,CAAC,CAAEC,UAAU,EAAM/C,QAAS,oCAEnC,6BAEF,sBAAMa,KAAN,CACE9B,KAAK,YACL8D,MAAM,2BACNC,MAAO,CAAC,CAAEC,UAAU,EAAM/C,QAAS,gDAEnC,6BAEF,sBAAMa,KAAN,KACE,uBAAQuC,SAAS,SAASjK,KAAK,WAA/B","file":"static/js/8.e34838dd.chunk.js","sourcesContent":["import '../../style/index.css';\nimport './index.css'; // style dependencies\n\nimport '../../tabs/style/css';\nimport '../../row/style/css';\nimport '../../col/style/css';","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Grid = function Grid(_a) {\n  var prefixCls = _a.prefixCls,\n      className = _a.className,\n      _a$hoverable = _a.hoverable,\n      hoverable = _a$hoverable === void 0 ? true : _a$hoverable,\n      props = __rest(_a, [\"prefixCls\", \"className\", \"hoverable\"]);\n\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n    var prefix = getPrefixCls('card', prefixCls);\n    var classString = classNames(\"\".concat(prefix, \"-grid\"), className, _defineProperty({}, \"\".concat(prefix, \"-grid-hoverable\"), hoverable));\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n      className: classString\n    }));\n  });\n};\n\nexport default Grid;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Meta = function Meta(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var customizePrefixCls = props.prefixCls,\n        className = props.className,\n        avatar = props.avatar,\n        title = props.title,\n        description = props.description,\n        others = __rest(props, [\"prefixCls\", \"className\", \"avatar\", \"title\", \"description\"]);\n\n    var prefixCls = getPrefixCls('card', customizePrefixCls);\n    var classString = classNames(\"\".concat(prefixCls, \"-meta\"), className);\n    var avatarDom = avatar ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-avatar\")\n    }, avatar) : null;\n    var titleDom = title ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-title\")\n    }, title) : null;\n    var descriptionDom = description ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-description\")\n    }, description) : null;\n    var MetaDetail = titleDom || descriptionDom ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-meta-detail\")\n    }, titleDom, descriptionDom) : null;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n      className: classString\n    }), avatarDom, MetaDetail);\n  });\n};\n\nexport default Meta;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport Grid from './Grid';\nimport Meta from './Meta';\nimport Tabs from '../tabs';\nimport Row from '../row';\nimport Col from '../col';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction getAction(actions) {\n  var actionList = actions.map(function (action, index) {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(\"li\", {\n        style: {\n          width: \"\".concat(100 / actions.length, \"%\")\n        },\n        key: \"action-\".concat(index)\n      }, /*#__PURE__*/React.createElement(\"span\", null, action))\n    );\n  });\n  return actionList;\n}\n\nvar Card = function Card(props) {\n  var _extends2, _classNames;\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var onTabChange = function onTabChange(key) {\n    var _a;\n\n    (_a = props.onTabChange) === null || _a === void 0 ? void 0 : _a.call(props, key);\n  };\n\n  var isContainGrid = function isContainGrid() {\n    var containGrid;\n    React.Children.forEach(props.children, function (element) {\n      if (element && element.type && element.type === Grid) {\n        containGrid = true;\n      }\n    });\n    return containGrid;\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      extra = props.extra,\n      _props$headStyle = props.headStyle,\n      headStyle = _props$headStyle === void 0 ? {} : _props$headStyle,\n      _props$bodyStyle = props.bodyStyle,\n      bodyStyle = _props$bodyStyle === void 0 ? {} : _props$bodyStyle,\n      title = props.title,\n      loading = props.loading,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      customizeSize = props.size,\n      type = props.type,\n      cover = props.cover,\n      actions = props.actions,\n      tabList = props.tabList,\n      children = props.children,\n      activeTabKey = props.activeTabKey,\n      defaultActiveTabKey = props.defaultActiveTabKey,\n      tabBarExtraContent = props.tabBarExtraContent,\n      hoverable = props.hoverable,\n      _props$tabProps = props.tabProps,\n      tabProps = _props$tabProps === void 0 ? {} : _props$tabProps,\n      others = __rest(props, [\"prefixCls\", \"className\", \"extra\", \"headStyle\", \"bodyStyle\", \"title\", \"loading\", \"bordered\", \"size\", \"type\", \"cover\", \"actions\", \"tabList\", \"children\", \"activeTabKey\", \"defaultActiveTabKey\", \"tabBarExtraContent\", \"hoverable\", \"tabProps\"]);\n\n  var prefixCls = getPrefixCls('card', customizePrefixCls);\n  var loadingBlockStyle = bodyStyle.padding === 0 || bodyStyle.padding === '0px' ? {\n    padding: 24\n  } : undefined;\n  var block = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-block\")\n  });\n  var loadingBlock = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-content\"),\n    style: loadingBlockStyle\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 22\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 8\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 15\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 6\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 18\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 13\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 9\n  }, block)), /*#__PURE__*/React.createElement(Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 4\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 3\n  }, block), /*#__PURE__*/React.createElement(Col, {\n    span: 16\n  }, block)));\n  var hasActiveTabKey = activeTabKey !== undefined;\n\n  var extraProps = _extends(_extends({}, tabProps), (_extends2 = {}, _defineProperty(_extends2, hasActiveTabKey ? 'activeKey' : 'defaultActiveKey', hasActiveTabKey ? activeTabKey : defaultActiveTabKey), _defineProperty(_extends2, \"tabBarExtraContent\", tabBarExtraContent), _extends2));\n\n  var head;\n  var tabs = tabList && tabList.length ? /*#__PURE__*/React.createElement(Tabs, _extends({\n    size: \"large\"\n  }, extraProps, {\n    className: \"\".concat(prefixCls, \"-head-tabs\"),\n    onChange: onTabChange\n  }), tabList.map(function (item) {\n    return /*#__PURE__*/React.createElement(Tabs.TabPane, {\n      tab: item.tab,\n      disabled: item.disabled,\n      key: item.key\n    });\n  })) : null;\n\n  if (title || extra || tabs) {\n    head = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head\"),\n      style: headStyle\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-wrapper\")\n    }, title && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-head-title\")\n    }, title), extra && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-extra\")\n    }, extra)), tabs);\n  }\n\n  var coverDom = cover ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-cover\")\n  }, cover) : null;\n  var body = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-body\"),\n    style: bodyStyle\n  }, loading ? loadingBlock : children);\n  var actionDom = actions && actions.length ? /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-actions\")\n  }, getAction(actions)) : null;\n  var divProps = omit(others, ['onTabChange']);\n  var mergedSize = customizeSize || size;\n  var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hoverable\"), hoverable), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-grid\"), isContainGrid()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-contain-tabs\"), tabList && tabList.length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(prefixCls, \"-type-\").concat(type), !!type), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n    className: classString\n  }), head, coverDom, body, actionDom);\n};\n\nCard.Grid = Grid;\nCard.Meta = Meta;\nexport default Card;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(this && this[arg] || arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(this, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(this && this[key] || key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This icon file is generated automatically.\nvar PlusCircleTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm192 396c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\", \"fill\": primaryColor } }] }; }, \"name\": \"plus-circle\", \"theme\": \"twotone\" };\nexport default PlusCircleTwoTone;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusCircleTwoToneSvg from \"@ant-design/icons-svg/es/asn/PlusCircleTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlusCircleTwoTone = function PlusCircleTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: PlusCircleTwoToneSvg\n  }));\n};\n\nPlusCircleTwoTone.displayName = 'PlusCircleTwoTone';\nexport default /*#__PURE__*/React.forwardRef(PlusCircleTwoTone);","// This icon file is generated automatically.\nvar BulbTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 136c-141.4 0-256 114.6-256 256 0 92.5 49.4 176.3 128.1 221.8l35.9 20.8V752h184V634.6l35.9-20.8C718.6 568.3 768 484.5 768 392c0-141.4-114.6-256-256-256z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z\", \"fill\": primaryColor } }] }; }, \"name\": \"bulb\", \"theme\": \"twotone\" };\nexport default BulbTwoTone;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport BulbTwoToneSvg from \"@ant-design/icons-svg/es/asn/BulbTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar BulbTwoTone = function BulbTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: BulbTwoToneSvg\n  }));\n};\n\nBulbTwoTone.displayName = 'BulbTwoTone';\nexport default /*#__PURE__*/React.forwardRef(BulbTwoTone);","// ** 合格证统一管理页面 ** //\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  Tag,\r\n  Spin,\r\n  Tabs,\r\n  List,\r\n  Card,\r\n  Empty,\r\n  Tooltip,\r\n  Input,\r\n  Radio,\r\n  InputNumber,\r\n  DatePicker,\r\n  message\r\n} from \"antd\";\r\nimport {\r\n  PlusCircleTwoTone,\r\n  EditTwoTone,\r\n  EllipsisOutlined,\r\n  PrinterOutlined,\r\n  DeleteOutlined,\r\n  BulbTwoTone,\r\n  MinusOutlined\r\n} from \"@ant-design/icons\";\r\nimport firebase from \"api/firebase\";\r\nimport useCertificates from \"hooks/useCertificates\";\r\nimport styles from \"./certificate.module.css\";\r\nimport classNames from \"classnames/bind\";\r\n\r\nlet cx = classNames.bind(styles);\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n// 以中文格式显示时间\r\nconst showTimeInCN = date => new Date(date).toLocaleString(\"zh-Hans-CN\");\r\n\r\nconst CertificatesManagePage = props => {\r\n  const [filter, setFilter] = useState(\"SHOW_ACTIVE\");\r\n  const certificates = useCertificates(filter);\r\n\r\n  // 合格证卡片队列，一次最多打印 9 个。\r\n  const initialCardQueue = JSON.parse(localStorage.getItem(\"cardQueue\")) || [];\r\n  const [cardQueue, setCardQueue] = useState(initialCardQueue);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cardQueue\", JSON.stringify(cardQueue));\r\n    return () => localStorage.removeItem(\"cardQueue\");\r\n  });\r\n\r\n  // 调用 Web API 启用打印机\r\n  const onPrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  // 清空添加到打印队列的合格证\r\n  const onClearAll = () => {\r\n    setCardQueue([]);\r\n  };\r\n\r\n  const addToCardQueue = async card => {\r\n    await firebase.finishCertificatesPrint(card.orderId, true);\r\n    setCardQueue(prev => [card, ...prev]);\r\n    message.success(\"已添加到打印列表\", 0.5);\r\n  };\r\n\r\n  const fillCard = values => {\r\n    const { arrivalAt } = values;\r\n    setCardQueue(prev => [\r\n      { ...values, arrivalAt: arrivalAt.format(\"YYYY-MM\") },\r\n      ...prev\r\n    ]);\r\n    message.success(\"添加合格证成功\", 0.5);\r\n  };\r\n\r\n  const removeCard = cardName => {\r\n    setCardQueue(prev => prev.filter(card => card.name !== cardName));\r\n  };\r\n\r\n  // 设置合格证可见性：未打印、已打印、全部\r\n  const setVisibilityFilter = e => {\r\n    setFilter(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Tabs defaultActiveKey=\"plan\">\r\n      <TabPane tab=\"计划\" key=\"plan\">\r\n        <div className={cx(\"noPrint\", \"planArea\")}>\r\n          <div className={styles.filter}>\r\n            <Radio.Group onChange={setVisibilityFilter} defaultValue=\"未打印\">\r\n              <Radio.Button value=\"SHOW_ACTIVE\">未打印</Radio.Button>\r\n              <Radio.Button value=\"SHOW_ALL\">全部</Radio.Button>\r\n              <Radio.Button value=\"SHOW_COMPLETED\">已打印</Radio.Button>\r\n            </Radio.Group>\r\n          </div>\r\n          <p>\r\n            产品的合格证是以一个订单为基本单位，同一订单内的所有产品合格证应该同时被添加到打印队列，同时完成打印，以及同时被删除。\r\n          </p>\r\n          <p>合格证不足 9 个时，可考虑用常见的浸没式加热器合格证填充。</p>\r\n          {certificates ? (\r\n            <List\r\n              grid={{ gutter: 16, xl: 6, md: 4 }}\r\n              dataSource={certificates}\r\n              renderItem={item => (\r\n                <List.Item>\r\n                  <Card\r\n                    actions={[\r\n                      <Tooltip title=\"添加到打印列表\">\r\n                        <PlusCircleTwoTone\r\n                          key=\"plus\"\r\n                          onClick={() => addToCardQueue(item)}\r\n                        />\r\n                      </Tooltip>,\r\n                      <Tooltip title=\"未完成的功能\">\r\n                        <EditTwoTone key=\"edit\" />\r\n                      </Tooltip>,\r\n                      <Tooltip title=\"未完成的功能\">\r\n                        <EllipsisOutlined key=\"ellipsis\" />\r\n                      </Tooltip>\r\n                    ]}\r\n                  >\r\n                    <p>{item.name}</p>\r\n                    <p>数量：{item.quantity} 台</p>\r\n                    <p>\r\n                      状态：\r\n                      {item.printDone ? (\r\n                        <Tag color=\"#108ee9\">已打印</Tag>\r\n                      ) : (\r\n                        <Tag color=\"#f50\">未打印</Tag>\r\n                      )}\r\n                    </p>\r\n                    <p>创建日期：</p>\r\n                    <p>{showTimeInCN(item.preparePrintAt)}</p>\r\n                    <p className={styles.ellipsis}>订单号：{item.orderId}</p>\r\n                  </Card>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          ) : (\r\n            <Spin />\r\n          )}\r\n        </div>\r\n      </TabPane>\r\n      <TabPane tab=\"预览\" key=\"preview\">\r\n        <div className={cx(\"noPrint\", \"cardActions\")}>\r\n          <Button.Group>\r\n            <Button icon={<PrinterOutlined />} type=\"primary\" onClick={onPrint}>\r\n              打印\r\n            </Button>\r\n            <Button\r\n              icon={<DeleteOutlined />}\r\n              type=\"danger\"\r\n              onClick={onClearAll}\r\n            >\r\n              清空\r\n            </Button>\r\n          </Button.Group>\r\n          <p>\r\n            <BulbTwoTone />\r\n            <span>\r\n              提示：将鼠标悬停在合格证卡片右上角，可以删除该合格证所属订单所有合格证\r\n            </span>\r\n          </p>\r\n        </div>\r\n        {cardQueue.length ? (\r\n          <div className={styles.cardArea}>\r\n            {cardQueue.map(card =>\r\n              Array.from(new Array(card.quantity)).map((item, index) => (\r\n                <div key={`${card.name}-${card.arrivalAt}-${index}`}>\r\n                  <div className={styles.container}>\r\n                    <section className={styles.cardHeader}>\r\n                      <p className={styles.title}>\r\n                        <span>SEMEM</span>\r\n                        <Button\r\n                          type=\"link\"\r\n                          className={cx(\"hiddenButton\")}\r\n                          icon={<MinusOutlined />}\r\n                          onClick={() => removeCard(card.name)}\r\n                        />\r\n                      </p>\r\n                      <p>\r\n                        {card.model === \"HQS\"\r\n                          ? card.name.slice(0, 3)\r\n                          : card.model}{\" \"}\r\n                        Heater\r\n                      </p>\r\n                      <p>检验合格证明书</p>\r\n                    </section>\r\n                    <section className={styles.cardBody}>\r\n                      <p>\r\n                        名称：\r\n                        <span className={styles.productName}>{card.name}</span>\r\n                      </p>\r\n                      <p>\r\n                        检验员：<Tag color=\"red\">0306</Tag>\r\n                      </p>\r\n                      <p>检验日期：{card.arrivalAt.slice(0, 7)}</p>\r\n                      <p>本产品经检验合格，符合标准，准予出厂。</p>\r\n                    </section>\r\n                    <section className={styles.cardFooter}>\r\n                      <p className={styles.seal}>\r\n                        <Tag color=\"red\">西门机电品质检验中心</Tag>\r\n                      </p>\r\n                      <p>湖南西门机电科技有限公司</p>\r\n                    </section>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <Empty />\r\n        )}\r\n      </TabPane>\r\n      <TabPane tab=\"填充\" key=\"fill\">\r\n        <Form\r\n          onFinish={fillCard}\r\n          layout=\"inline\"\r\n          initialValues={{\r\n            name: \"HJ-50C\",\r\n            quantity: 1,\r\n            model: \"HJ\",\r\n            arrivalAt: moment()\r\n          }}\r\n        >\r\n          <Form.Item\r\n            name=\"name\"\r\n            label=\"产品名称\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请输入产品名称\"\r\n              }\r\n            ]}\r\n          >\r\n            <Input allowClear autoFocus />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"quantity\"\r\n            label=\"数量\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"请指定数量\"\r\n              }\r\n            ]}\r\n          >\r\n            <InputNumber min={1} max={9} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"model\"\r\n            label=\"结构形式\"\r\n            rules={[{ required: true, message: \"请指定结构\" }]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"arrivalAt\"\r\n            label=\"检验日期\"\r\n            rules={[{ required: true, message: \"请指定检验日期\" }]}\r\n          >\r\n            <DatePicker />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button htmlType=\"submit\" type=\"primary\">\r\n              添加\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default CertificatesManagePage;\r\n","import { useState, useEffect } from \"react\";\r\nimport firebase from \"../api/firebase\";\r\n\r\nexport default function useCertificates(filter) {\r\n  const [certificates, setCertificates] = useState(null);\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.certificates(filter).onSnapshot(snapshot => {\r\n      const certificates = [];\r\n      snapshot.forEach(doc => {\r\n        // 转化成想要的结构，用于展示\r\n        const {\r\n          orderId,\r\n          arrivalAt,\r\n          products,\r\n          preparePrintAt,\r\n          printDone\r\n        } = doc.data();\r\n        Object.keys(products).forEach(name =>\r\n          certificates.push({\r\n            ...products[name],\r\n            name,\r\n            orderId,\r\n            arrivalAt,\r\n            preparePrintAt,\r\n            printDone\r\n          })\r\n        );\r\n      });\r\n\r\n      setCertificates(certificates);\r\n    });\r\n    return unsubscribe;\r\n  }, [filter]);\r\n\r\n  return certificates;\r\n}\r\n"],"sourceRoot":""}