{"version":3,"sources":["pages/work/helper/index.js","pages/work/order/orderDetail.module.css","constants/product.js","pages/work/order/orderDetail.js"],"names":["computeWaterDiameter","flow","waterVelocity","Math","ceil","sqrt","PI","computeCalorie","heatTo","heatFrom","computeThroatDiameter","computeHolesCount","result","computeSteamCount","calorie","steamEnthalpy","computeSteamDiameter","steamCount","steamSpecificHeatCapacity","steamVelocity","round","module","exports","HQS_MATRIX","碳钢","DN40","DN65","DN125","DN250","DN300","DN400","304","2205","HJ_MATRIX","DN25","DN32","DN50","DN80","DN100","DN150","Text","Title","Paragraph","Panel","OrderDetailPage","useLocation","state","id","consumer","products","date","orderAt","arrivalAt","arrivalMonth","slice","propsPassToSpecPage","map","product","name","quantity","weight","pressure","flangeStandard","material","model","throatDiameter","holesCount","prefix","split","dn","length","dnInlet","dnOutlet","dnSteam","serialNumber","replace","price","PRODUCT","nameplateText","contractItemText","propsPassToCertificatePage","gutter","style","marginBottom","span","level","type","paddingLeft","expandIconPosition","bordered","defaultActiveKey","className","styles","collapsePanel","header","code","key","copyable","join","index","background","width","filter","nameplateCard","Item","label","text","description","to","pathname","ROUTES","icon","RightSquareOutlined"],"mappings":"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","file":"static/js/11.5eaa69d7.chunk.js","sourcesContent":["// 喉部水流速度参考值 单位 m/s\r\nconst VELOCITY = 9.1229;\r\n// 蒸汽热焓值参考值 单位 KCal/kg\r\nconst STEAM_ENTHALPY = 656.93;\r\n// QSH-48 对应的斜孔数量\r\nconst STANDARD_HOLES_COUNT = 720;\r\n// QSH-48 对应的蒸汽流量 单位 kg/h\r\nconst STANDARD_STEAM_FLOW = 16724.99;\r\n\r\n// 千焦到千卡的转换系数\r\nconst KJ_TO_KCAL = 4.184;\r\n\r\n// 计算水管的直径\r\nexport const computeWaterDiameter = (flow, waterVelocity) =>\r\n  Math.ceil(2 * Math.sqrt(((flow / 3600 / waterVelocity) * 1000000) / Math.PI));\r\n\r\n// 计算水需要吸收的热量\r\nexport const computeCalorie = (flow, heatTo, heatFrom) =>\r\n  flow * 1000 * (heatTo - heatFrom);\r\n\r\n// 计算喉部直径\r\nexport const computeThroatDiameter = flow =>\r\n  Math.ceil(2 * Math.sqrt((1000000 * flow) / 3600 / VELOCITY / Math.PI));\r\n\r\n// 计算斜孔数量\r\nexport const computeHolesCount = (flow, heatFrom, heatTo) => {\r\n  const heatIn = flow * 1000 * (heatTo - heatFrom); // 吸收热量\r\n  const result =\r\n    (STANDARD_HOLES_COUNT * heatIn) /\r\n    (STEAM_ENTHALPY - heatTo) /\r\n    STANDARD_STEAM_FLOW;\r\n\r\n  return Math.ceil(result);\r\n};\r\n\r\n// 计算蒸汽耗量\r\nexport const computeSteamCount = (calorie, steamEnthalpy, heatTo) =>\r\n  Math.ceil(calorie / (steamEnthalpy / KJ_TO_KCAL - heatTo));\r\n\r\n// 计算蒸汽管道直径\r\nexport const computeSteamDiameter = (\r\n  steamCount, // 蒸汽耗量\r\n  steamSpecificHeatCapacity, // 蒸汽比热容\r\n  steamVelocity // 蒸汽经济流速 25 - 40 m/s 之间\r\n) => {\r\n  return Math.round(\r\n    2 *\r\n      Math.sqrt(\r\n        (1000000 *\r\n          ((steamCount * steamSpecificHeatCapacity) / 3600 / steamVelocity)) /\r\n          Math.PI\r\n      )\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"collapsePanel\":\"orderDetail_collapsePanel__2EhUJ\",\"nameplateCard\":\"orderDetail_nameplateCard__SFesl\"};","// 与加热器等产品相关的常量\r\n\r\n// 管道式加热器 型号到价格的映射表\r\nexport const HQS_MATRIX = {\r\n  碳钢: {\r\n    DN40: 540,\r\n    DN65: 570,\r\n    DN125: 1490,\r\n    DN250: 3200,\r\n    DN300: 5250,\r\n    DN400: 8930,\r\n  },\r\n  304: {\r\n    DN40: 970,\r\n    DN65: 2060,\r\n    DN125: 4890,\r\n    DN250: 11080,\r\n    DN300: 13650,\r\n    DN400: 19950,\r\n  },\r\n  \"316L\": {\r\n    DN40: 1450,\r\n    DN65: 2610,\r\n    DN125: 7340,\r\n    DN250: 16620,\r\n    DN300: 20480,\r\n    DN400: 29930,\r\n  },\r\n  2205: {\r\n    DN40: 2900,\r\n    DN65: 6170,\r\n    DN125: 14680,\r\n    DN250: 33230,\r\n    DN300: 40950,\r\n    DN400: 59850,\r\n  },\r\n  \"外壳碳钢 芯体304\": {\r\n    DN40: 670,\r\n    DN65: 770,\r\n    DN125: 2530,\r\n    DN250: 6830,\r\n    DN300: 10400,\r\n    DN400: 12600,\r\n  },\r\n};\r\n\r\n// 浸没式加热器 型号到价格的映射表\r\nexport const HJ_MATRIX = {\r\n  碳钢: {\r\n    DN25: 270,\r\n    DN32: 270,\r\n    DN40: 270,\r\n    DN50: 290,\r\n    DN65: 290,\r\n    DN80: 480,\r\n    DN100: 480,\r\n    DN125: 650,\r\n    DN150: 890,\r\n  },\r\n  304: {\r\n    DN25: 480,\r\n    DN32: 480,\r\n    DN40: 480,\r\n    DN50: 740,\r\n    DN65: 740,\r\n    DN80: 950,\r\n    DN100: 950,\r\n    DN125: 1210,\r\n    DN150: 1210,\r\n  },\r\n  \"316L\": {\r\n    DN25: 590,\r\n    DN32: 590,\r\n    DN40: 590,\r\n    DN50: 870,\r\n    DN65: 870,\r\n    DN80: 1100,\r\n    DN100: 1100,\r\n    DN125: 1470,\r\n    DN150: 1790,\r\n  },\r\n};\r\n","// ** 产品详情页 ** //\r\nimport React from 'react';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport {\r\n  Descriptions,\r\n  Typography,\r\n  Button,\r\n  Collapse,\r\n  Row,\r\n  Col,\r\n  Empty,\r\n} from 'antd';\r\nimport { RightSquareOutlined } from '@ant-design/icons';\r\nimport * as ROUTES from 'constants/routes';\r\nimport * as PRODUCT from 'constants/product';\r\nimport { computeHolesCount, computeThroatDiameter } from '../helper';\r\nimport styles from './orderDetail.module.css';\r\n\r\nconst { Text, Title, Paragraph } = Typography;\r\nconst { Panel } = Collapse;\r\n\r\nconst OrderDetailPage = () => {\r\n  let {\r\n    id,\r\n    consumer,\r\n    products,\r\n    date: { orderAt, arrivalAt },\r\n  } = useLocation().state;\r\n\r\n  const arrivalMonth = arrivalAt.slice(0, 7);\r\n\r\n  products = products.map(product => {\r\n    const {\r\n      name,\r\n      flow,\r\n      heatFrom,\r\n      heatTo,\r\n      quantity,\r\n      weight,\r\n      pressure,\r\n      flangeStandard,\r\n      material,\r\n      model,\r\n    } = product;\r\n\r\n    // 喉部直径由流量推算出\r\n    const throatDiameter = computeThroatDiameter(flow);\r\n    // 斜孔数量由流量和温差共同推算出\r\n    const holesCount = computeHolesCount(flow, heatFrom, heatTo);\r\n\r\n    // 根据产品型号推算三个口径，特殊型号后续自行修改\r\n    // HQS-125-20G --> ['HQS', 125, 20, 'G']\r\n    // HJ-50C --> ['HJ', '50C']\r\n    const prefix = name.split('-')[0];\r\n    const dn =\r\n      model === 'HQS'\r\n        ? `DN${name.split('-')[1]}`\r\n        : `DN${name.split('-')[1].slice(0, name.split('-')[1].length - 1)}`;\r\n    const dnInlet = dn; // 进水口径\r\n    const dnOutlet = dn; // 出水口径\r\n    const dnSteam = prefix === 'JRG' ? `DN150` : dn; // 蒸汽口径\r\n\r\n    // 生产编号\r\n    const serialNumber = `${orderAt.replace(/-/g, '')}01`;\r\n\r\n    // 产品单价\r\n    const price =\r\n      model === 'HQS'\r\n        ? PRODUCT.HQS_MATRIX[material][dn]\r\n        : PRODUCT.HJ_MATRIX[material][dn];\r\n\r\n    const nameplateText = `\r\n  产品型号: ${product.name}\r\n  数量: ${quantity}\r\n  下单日期: ${orderAt}\r\n  出厂日期: ${arrivalMonth}\r\n  销售客户: ${consumer}\r\n  编号: ${serialNumber}\r\n  流量 t/h: ${flow}\r\n  重量 kg: ${weight}\r\n  压力 MPa: ${pressure}\r\n`;\r\n    // 合同内单类别产品信息\r\n    const contractItemText =\r\n      model === 'HQS'\r\n        ? `法兰标准：${flangeStandard}。材质 ${material}，进水侧口径 ${dnInlet}，出水侧口径 ${dnOutlet}，蒸汽侧口径 ${dnSteam}，喉径 ${throatDiameter}mm，斜孔数 ${holesCount}，斜孔直径 3.5mm，角度与轴线成 30℃。`\r\n        : `法兰标准：${flangeStandard}。材质 ${material}，口径 ${dn}`;\r\n\r\n    return {\r\n      ...product,\r\n      throatDiameter,\r\n      holesCount,\r\n      dnInlet,\r\n      dnOutlet,\r\n      dnSteam,\r\n      material,\r\n      price,\r\n      serialNumber,\r\n      nameplateText,\r\n      contractItemText,\r\n    };\r\n  });\r\n\r\n  // 传递给技术参数页面的属性，仅传递与技术参数相关属性\r\n  const propsPassToSpecPage = products.map(\r\n    ({\r\n      name,\r\n      flow,\r\n      heatFrom,\r\n      heatTo,\r\n      quantity,\r\n      weight,\r\n      pressure,\r\n      flangeStandard,\r\n      model,\r\n      throatDiameter,\r\n      holesCount,\r\n      dnInlet,\r\n      dnOutlet,\r\n      dnSteam,\r\n      material,\r\n    }) => ({\r\n      name,\r\n      flow,\r\n      heatFrom,\r\n      heatTo,\r\n      quantity,\r\n      weight,\r\n      pressure,\r\n      flangeStandard,\r\n      model,\r\n      throatDiameter,\r\n      holesCount,\r\n      dnInlet,\r\n      dnOutlet,\r\n      dnSteam,\r\n      material,\r\n    })\r\n  );\r\n\r\n  // 传递给合格证页面的属性\r\n  const propsPassToCertificatePage = {\r\n    id,\r\n    arrivalAt,\r\n    products: products.map(({ name, model, quantity }) => ({\r\n      name,\r\n      model,\r\n      quantity,\r\n    })),\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row gutter={[0, 80]} style={{ marginBottom: 64 }}>\r\n        <Col span={6}>\r\n          <Title level={4} type=\"secondary\">\r\n            产品清单\r\n          </Title>\r\n        </Col>\r\n        <Col span={18} style={{ paddingLeft: 16 }}>\r\n          <Collapse\r\n            expandIconPosition=\"right\"\r\n            bordered={false}\r\n            defaultActiveKey={['dn']}\r\n          >\r\n            {products.map(product => (\r\n              <Panel\r\n                className={styles.collapsePanel}\r\n                header={\r\n                  <div>\r\n                    {product.name} <Text code>{product.quantity}</Text>\r\n                  </div>\r\n                }\r\n                key={product.name}\r\n              >\r\n                <p>{product.contractItemText}</p>\r\n                <p>\r\n                  单价 ￥{product.price}，{product.quantity} 台共计 ￥\r\n                  {product.price * product.quantity}\r\n                </p>\r\n              </Panel>\r\n            ))}\r\n          </Collapse>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={[0, 80]} style={{ marginBottom: 64 }}>\r\n        <Col span={6}>\r\n          <Title level={4} type=\"secondary\">\r\n            CRM 辅助文本\r\n          </Title>\r\n        </Col>\r\n        <Col span={18} style={{ paddingLeft: 16 }}>\r\n          <Collapse\r\n            expandIconPosition=\"right\"\r\n            bordered={false}\r\n            defaultActiveKey={['purchaseTitle']}\r\n          >\r\n            <Panel\r\n              className={styles.collapsePanel}\r\n              header=\"采购主题\"\r\n              key=\"purchaseTitle\"\r\n            >\r\n              <Paragraph copyable>\r\n                {consumer}{' '}\r\n                {products\r\n                  .map(product => `${product.name} ${product.quantity} 台 `)\r\n                  .join('')}\r\n              </Paragraph>\r\n            </Panel>\r\n            <Panel\r\n              className={styles.collapsePanel}\r\n              header={<div>产品明细</div>}\r\n              key=\"productsInfo\"\r\n            >\r\n              {products.map((product, index) => (\r\n                <Collapse key={product.name} defaultActiveKey=\"0\">\r\n                  <Panel header={product.name} key={index}>\r\n                    <p>品名：{product.model}</p>\r\n                    <p>型号：{product.name}</p>\r\n                    <p>数量：{product.quantity}</p>\r\n                    <p>单价：￥{product.price}</p>\r\n                    <p>金额：￥{product.quantity * product.price}</p>\r\n                    <div>\r\n                      备注：<Text copyable>{product.contractItemText}</Text>\r\n                    </div>\r\n                  </Panel>\r\n                </Collapse>\r\n              ))}\r\n            </Panel>\r\n          </Collapse>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={[8, 80]} style={{ background: '#fafafa', width: '100%' }}>\r\n        <Col span={6}>\r\n          <Title level={4} type=\"secondary\">\r\n            铭牌\r\n          </Title>\r\n        </Col>\r\n        <Col span={18}>\r\n          {products.filter(product => product.model === 'HQS').length ? (\r\n            products\r\n              .filter(product => product.model === 'HQS')\r\n              .map(product => (\r\n                <Descriptions\r\n                  key={product.name}\r\n                  className={styles.nameplateCard}\r\n                >\r\n                  <Descriptions.Item label=\"产品型号\" span={3}>\r\n                    {product.name}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"销售客户\" span={3}>\r\n                    {consumer}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"数量\" span={3}>\r\n                    {product.quantity}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"下单日期\" span={3}>\r\n                    {orderAt}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"出厂日期\" span={3}>\r\n                    {arrivalMonth}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"编号\" span={3}>\r\n                    {product.serialNumber}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"流量\" span={3}>\r\n                    {product.flow} t/h\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"重量\" span={3}>\r\n                    {product.weight} kg\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"压力\" span={3}>\r\n                    {product.pressure} MPa\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"铭牌纯文本\" span={3}>\r\n                    <Text copyable={{ text: product.nameplateText }}>复制</Text>\r\n                  </Descriptions.Item>\r\n                </Descriptions>\r\n              ))\r\n          ) : (\r\n            <Empty description=\"当前订单没有铭牌信息\" />\r\n          )}\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={[16, 80]}>\r\n        <Col span={6}>\r\n          <div>\r\n            <Title level={4} type=\"secondary\">\r\n              链接\r\n            </Title>\r\n          </div>\r\n        </Col>\r\n        <Col span={18}>\r\n          <div>\r\n            <div>\r\n              <Link\r\n                to={{\r\n                  pathname: `${ROUTES.ORDER_CONTRACT}/${id}`,\r\n                  state: { id, products, date: { orderAt, arrivalAt } },\r\n                }}\r\n              >\r\n                <Button type=\"link\" icon={<RightSquareOutlined />}>\r\n                  采购合同\r\n                </Button>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: `${ROUTES.CERTIFICATE_PAGE}/${id}`,\r\n                  state: propsPassToCertificatePage,\r\n                }}\r\n              >\r\n                <Button type=\"link\" icon={<RightSquareOutlined />}>\r\n                  产品合格证\r\n                </Button>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: `${ROUTES.ORDER_SPEC}/${id}`,\r\n                  state: propsPassToSpecPage,\r\n                }}\r\n              >\r\n                <Button type=\"link\" icon={<RightSquareOutlined />}>\r\n                  技术参数\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetailPage;\r\n"],"sourceRoot":""}