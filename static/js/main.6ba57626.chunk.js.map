{"version":3,"sources":["pages/work/order/orderDetail.module.css","pages/work/order/createOrderForm.module.css","pages/work/order/certificate.module.css","pages/work/order/contract.module.css","api/firebase/index.js","hooks/useAuth.js","components/signIn/index.js","pages/work/flow/params.js","pages/work/flow/index.js","constants/routes.js","pages/work/order/createOrderForm.js","pages/work/jrq/hqsPriceTable.js","pages/work/jrq/hjPriceTable.js","pages/work/helper/index.js","pages/work/jrq/heatComputer.js","pages/work/jrq/hqsProduct.js","pages/work/jrq/hjProduct.js","pages/work/jrq/techInfo.js","pages/work/jrq/index.js","pages/work/wk/wkPriceTable.js","pages/work/wk/index.js","pages/work/order/orderTable.js","pages/work/order/index.js","pages/my/index.js","pages/family/index.js","constants/product.js","pages/work/order/orderDetail.js","pages/work/order/contract.js","pages/work/order/orderSpec.js","pages/work/order/certificate.js","pages/work/order/certificatesManage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","serverTimestamp","firebase","firestore","FieldValue","createUserWithEmailAndPassword","email","password","auth","signInWithEmailAndPassword","signOut","onAuthStateChanged","next","fallback","user","orders","db","collection","orderBy","limit","createOrder","order","a","async","add","removeOrder","id","doc","delete","removeCertificates","toggleNameplatePrint","checked","update","nameplate","toggleCertificatePrint","certificate","certificates","createCertificates","certificateInfo","set","finishCertificatesPrint","printDone","initializeApp","this","useAuth","useState","setAuth","useEffect","WrappedLoginForm","create","name","props","fieldsError","form","getFieldDecorator","getFieldsError","getFieldError","isFieldTouched","emailError","passwordError","style","display","alignItems","color","backgroundColor","icon","marginLeft","size","onClick","layout","onSubmit","e","preventDefault","validateFields","err","values","console","log","then","result","message","success","catch","error","Item","validateStatus","help","rules","type","required","prefix","placeholder","htmlType","disabled","Object","keys","some","field","Params","history","useHistory","push","Step","steps","title","content","href","rel","target","WorkFlowPage","current","setCurrent","onChange","map","step","key","minHeight","margin","border","borderRadius","HOME_PAGE","WORK_FLOW","CREATE_ORDER","WORK_ORDERS","ORDER_DETAIL","ORDER_CONTRACT","WORK_CERTIFICATES","CERTIFICATE_PAGE","ORDER_SPEC","WORK_JRQ","WORK_WK","MY_PAGE","FAMILY_PAGE","RangePicker","CreateOrderForm","items","setItems","validateFieldsAndScroll","errors","date","products","filter","product","forEach","pressure","orderAt","format","arrivalAt","ROUTES","labelCol","offset","span","wrapperCol","Group","length","prev","slice","label","whitespace","autoFocus","allowClear","initialValue","moment","width","gutter","className","styles","productRow","item","index","pull","productCol","value","Option","min","max","Button","Column","ColumnGroup","hqsData","dn","carbonSteel","hybrid","ss304","ss316l","d2205","HqsPriceTable","dataSource","pagination","footer","dataIndex","hjData","HjPriceTable","computeThroatDiameter","flow","Math","ceil","sqrt","PI","computeHolesCount","heatFrom","heatTo","HeatComputer","waterDiameter","setWaterDiameter","calorie","setCalorie","steamCount","setSteamCount","steamDiameter","setSteamDiameter","throatDiameter","setThroatDiameter","holesCount","setHolesCount","waterVelocity","steamEnthalpy","steamPressure","steamTemperature","steamSpecificHeatCapacity","steamVelocity","computeWaterDiameter","computeCalorie","computeSteamCount","round","computeSteamDiameter","marks","1","1.5","2","2.5","20","25","30","35","40","45","valueStyle","suffix","data","shellDn","shellThickness","coreThickness","HqsProduct","rowKey","record","holes","cols","loops","holeDn","HjProduct","Paragraph","Title","gridStyle","textAlign","TechInfo","Grid","level","ellipsis","rows","expandable","TabPane","JrqProduct","defaultActiveKey","tab","model","price","children","WkPriceTable","render","text","Panel","Text","WkProduct","bordered","header","code","OrderTable","onRemoveOrder","onToggleNameplatePrint","onToggleCertificatePrint","position","to","pathname","state","split","renderItem","quantity","copyable","filters","onFilter","checkedChildren","unCheckedChildren","defaultChecked","productsInfo","orderId","preparePrintAt","Date","now","handleCertificateChange","WorkPage","setOrders","onSnapshot","snapshot","My","FamilyPage","HQS_MATRIX","碳钢","DN40","DN65","DN125","DN250","HJ_MATRIX","DN25","DN32","DN50","DN80","DN100","DN150","OrderDetailPage","useLocation","consumer","arrivalMonth","propsPassToSpecPage","weight","flangeStandard","material","dnInlet","dnOutlet","dnSteam","serialNumber","replace","PRODUCT","nameplateText","contractItemText","propsPassToCertificatePage","marginBottom","paddingLeft","expandIconPosition","collapsePanel","join","background","nameplateCard","description","modelMap","HJ","HQS","ContractPage","productsCount","totalPrice","reduce","acc","cur","orderAmount","contractNumber","year","month","day","contractStartAt","contractEndAt","sinicizationDate","strong","s","OrderSpecPage","params","k","JSON","stringify","CertificatePage","setCertificates","noPrint","window","print","cardArea","container","cardHeader","cardBody","productName","cardFooter","seal","cx","classNames","bind","initialCardQueue","parse","localStorage","getItem","cardQueue","setCardQueue","setItem","grid","xl","md","actions","theme","card","toLocaleString","Array","from","ghost","cardName","event","Header","Content","Sider","SubMenu","App","overflow","height","left","mode","defaultSelectedKeys","padding","path","exact","status","subTitle","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6ba57626.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"collapsePanel\":\"orderDetail_collapsePanel__2EhUJ\",\"nameplateCard\":\"orderDetail_nameplateCard__SFesl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productRow\":\"createOrderForm_productRow__29jCv\",\"productCol\":\"createOrderForm_productCol__1P6Dg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"planArea\":\"certificate_planArea__Ku4DY\",\"ellipsis\":\"certificate_ellipsis__1UwWW\",\"cardActions\":\"certificate_cardActions__xKUap\",\"cardArea\":\"certificate_cardArea__2NJDz\",\"container\":\"certificate_container__1oyF_\",\"cardHeader\":\"certificate_cardHeader__20zAE\",\"title\":\"certificate_title__18uRd\",\"cardBody\":\"certificate_cardBody__3lkfM\",\"cardFooter\":\"certificate_cardFooter__1ml_S\",\"seal\":\"certificate_seal__88Drb\",\"productName\":\"certificate_productName__3mbgT\",\"main\":\"certificate_main__1f8eu\",\"noPrint\":\"certificate_noPrint__3MVFm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contract-panel\":\"contract_contract-panel__3Gk-4\",\"contract-secondary\":\"contract_contract-secondary__3sFgs\",\"contract-title\":\"contract_contract-title__1nbIY\",\"contract-companies\":\"contract_contract-companies__35Izt\",\"contract-items\":\"contract_contract-items__D9HFM\",\"contract-payment\":\"contract_contract-payment__3_HSk\"};","import firebase from \"firebase/app\";\r\n\r\n// These imports load individual services into the firebase namespace.\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCG7uQNMXfG_FiFb7XI7lSBgQDmz34oWFs\",\r\n  authDomain: \"my-console-e0d53.firebaseapp.com\",\r\n  databaseURL: \"https://my-console-e0d53.firebaseio.com\",\r\n  projectId: \"my-console-e0d53\",\r\n  storageBucket: \"my-console-e0d53.appspot.com\",\r\n  messagingSenderId: \"1084312850586\",\r\n  appId: \"1:1084312850586:web:69b29a32aead042c088f23\",\r\n  measurementId: \"G-R5ZL6XRK3L\"\r\n};\r\n\r\n// Initialize Firebase\r\nclass Firebase {\r\n  constructor() {\r\n    firebase.initializeApp(firebaseConfig);\r\n    this.auth = firebase.auth();\r\n    this.db = firebase.firestore();\r\n  }\r\n\r\n  // ** Helper ** //\r\n  serverTimestamp = () => firebase.firestore.FieldValue.serverTimestamp();\r\n\r\n  // ** Auth ** //\r\n  createUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  signInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  signOut = () => this.auth.signOut();\r\n\r\n  onAuthStateChanged = (next, fallback) =>\r\n    this.auth.onAuthStateChanged(user => (user ? next(user) : fallback()));\r\n\r\n  // ** Orders API ** //\r\n\r\n  // 获取订单列表\r\n  orders = () =>\r\n    this.db\r\n      .collection(\"orders\")\r\n      .orderBy(\"date.orderAt\", \"desc\")\r\n      .limit(100);\r\n\r\n  // 新建订单\r\n  createOrder = async order => await this.db.collection(\"orders\").add(order);\r\n\r\n  // 删除订单\r\n  removeOrder = async id => {\r\n    await this.db\r\n      .collection(\"orders\")\r\n      .doc(id)\r\n      .delete();\r\n    // 同时也要删除掉对应的合格证数据\r\n    await this.removeCertificates(id);\r\n  };\r\n\r\n  // 铭牌打印切换\r\n  toggleNameplatePrint = async (id, checked) =>\r\n    await this.db\r\n      .collection(\"orders\")\r\n      .doc(id)\r\n      .update({\r\n        nameplate: checked\r\n      });\r\n\r\n  // 合格证打印切换\r\n  toggleCertificatePrint = async (id, checked) =>\r\n    await this.db\r\n      .collection(\"orders\")\r\n      .doc(id)\r\n      .update({\r\n        certificate: checked\r\n      });\r\n\r\n  // 获取最近 9 个订单的合格证\r\n  certificates = () =>\r\n    this.db\r\n      .collection(\"certificates\")\r\n      .orderBy(\"arrivalAt\", \"desc\")\r\n      .limit(9);\r\n\r\n  // 新建当前订单的产品合格证\r\n  createCertificates = async (id, certificateInfo) =>\r\n    await this.db\r\n      .collection(\"certificates\")\r\n      .doc(id)\r\n      .set(certificateInfo);\r\n\r\n  // 移除当前订单的产品合格证\r\n  removeCertificates = async id =>\r\n    await this.db\r\n      .collection(\"certificates\")\r\n      .doc(id)\r\n      .delete();\r\n  // 完成某个订单的产品合格证打印\r\n  finishCertificatesPrint = async (id, checked) =>\r\n    await this.db\r\n      .collection(\"certificates\")\r\n      .doc(id)\r\n      .update({ printDone: checked });\r\n}\r\n\r\nexport default new Firebase();\r\n","import { useState, useEffect } from 'react';\r\nimport firebase from '../api/firebase';\r\n\r\nexport default function useAuth() {\r\n  const [auth, setAuth] = useState(null);\r\n  useEffect(() => {\r\n    firebase.onAuthStateChanged(\r\n      user => setAuth(user),\r\n      () => setAuth(null)\r\n    );\r\n  }, []);\r\n\r\n  return auth;\r\n}\r\n","import React from 'react';\r\nimport { Form, Icon, Input, Button, message, Avatar } from 'antd';\r\nimport firebase from '../../api/firebase';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\nfunction hasErrors(fieldsError) {\r\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n}\r\n\r\nconst LoginForm = props => {\r\n  const user = useAuth();\r\n  const email = user && user.email;\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        console.log('Received values of form: ', values);\r\n        const { email, password } = values;\r\n        firebase\r\n          .signInWithEmailAndPassword(email, password)\r\n          .then(result => {\r\n            message.success('欢迎', 1);\r\n          })\r\n          .catch(error => message.error(error.message));\r\n      }\r\n    });\r\n  };\r\n\r\n  const signOut = () => {\r\n    firebase.signOut();\r\n  };\r\n\r\n  const {\r\n    getFieldDecorator,\r\n    getFieldsError,\r\n    getFieldError,\r\n    isFieldTouched,\r\n  } = props.form;\r\n\r\n  // Only show error after a field is touched.\r\n  const emailError = isFieldTouched('email') && getFieldError('email');\r\n  const passwordError = isFieldTouched('password') && getFieldError('password');\r\n\r\n  return email ? (\r\n    <div style={{ display: 'flex', alignItems: 'center' }}>\r\n      <Avatar\r\n        style={{\r\n          color: '#f56a00',\r\n          backgroundColor: '#fde3cf',\r\n        }}\r\n      >\r\n        Bill\r\n      </Avatar>\r\n      <Button\r\n        icon=\"logout\"\r\n        style={{ marginLeft: 20 }}\r\n        size=\"small\"\r\n        onClick={signOut}\r\n      >\r\n        登出\r\n      </Button>\r\n    </div>\r\n  ) : (\r\n    <Form layout=\"inline\" onSubmit={handleSubmit}>\r\n      <Form.Item\r\n        validateStatus={emailError ? 'error' : ''}\r\n        help={emailError || ''}\r\n      >\r\n        {getFieldDecorator('email', {\r\n          rules: [\r\n            { type: 'email', message: '无效的电子邮箱' },\r\n            { required: true, message: '请输入你的电子邮箱' },\r\n          ],\r\n        })(\r\n          <Input\r\n            prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n            placeholder=\"电子邮件\"\r\n          />\r\n        )}\r\n      </Form.Item>\r\n      <Form.Item\r\n        validateStatus={passwordError ? 'error' : ''}\r\n        help={passwordError || ''}\r\n      >\r\n        {getFieldDecorator('password', {\r\n          rules: [{ required: true, message: 'Please input your Password!' }],\r\n        })(\r\n          <Input\r\n            prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n            type=\"password\"\r\n            placeholder=\"密码\"\r\n          />\r\n        )}\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Button\r\n          type=\"primary\"\r\n          htmlType=\"submit\"\r\n          disabled={hasErrors(getFieldsError())}\r\n        >\r\n          登录\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst WrappedLoginForm = Form.create({ name: 'login' })(LoginForm);\r\n\r\nexport default WrappedLoginForm;\r\n","// ** 产品参数确认 ** //\r\nimport React from \"react\";\r\nimport { Button } from \"antd\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Params = props => {\r\n  const history = useHistory();\r\n  return (\r\n    <div>\r\n      <Button type=\"primary\" onClick={() => history.push(\"/work/createOrder\")}>\r\n        新建订单\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Params;\r\n","// ** 工作流程页面 ** //\r\nimport React, { useState } from \"react\";\r\nimport { Steps } from \"antd\";\r\n\r\nimport Params from \"./params\";\r\n\r\nconst { Step } = Steps;\r\n\r\nconst steps = [\r\n  {\r\n    title: \"参数确认\",\r\n    content: <Params />\r\n  },\r\n  {\r\n    title: \"制作采购合同\",\r\n    content: \"制作采购合同\"\r\n  },\r\n  {\r\n    title: \"发送采购合同\",\r\n    content: (\r\n      <div>\r\n        <a\r\n          href=\"https://mail.qq.com/cgi-bin/frame_html?sid=2tq_5c2Dt8fOMkEf&r=ba4f18e27a212e38f7e5be5b900066ce\"\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          QQ mail\r\n        </a>\r\n      </div>\r\n    )\r\n  },\r\n  {\r\n    title: \"在 CRM 下单\",\r\n    content: (\r\n      <div>\r\n        <a\r\n          href=\"https://crm.xtcrm.com/lib/purchase/\"\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          XTools CRM\r\n        </a>\r\n      </div>\r\n    )\r\n  },\r\n  {\r\n    title: \"铭牌打印\",\r\n    content: <div>铭牌打印</div>\r\n  }\r\n];\r\n\r\nconst WorkFlowPage = props => {\r\n  const [current, setCurrent] = useState(0);\r\n\r\n  return (\r\n    <div>\r\n      <Steps current={current} onChange={current => setCurrent(current)}>\r\n        {steps.map(step => (\r\n          <Step key={step.title} title={step.title} />\r\n        ))}\r\n      </Steps>\r\n      <div\r\n        style={{\r\n          minHeight: 200,\r\n          margin: \"20px 0\",\r\n          border: \"1px dashed #e9e9e9\",\r\n          borderRadius: 6,\r\n          backgroundColor: \"#fafafa\"\r\n        }}\r\n      >\r\n        {steps[current].content}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkFlowPage;\r\n","// 主页\r\nexport const HOME_PAGE = '/';\r\n// 工作流\r\nexport const WORK_FLOW = '/work/flow';\r\n// 新建订单\r\nexport const CREATE_ORDER = '/work/createOrder';\r\n// 订单列表\r\nexport const WORK_ORDERS = '/work/orders';\r\n// 单个订单\r\nexport const WORK_ORDER = '/work/order';\r\n// 订单详情页面\r\nexport const ORDER_DETAIL = '/work/order/:id';\r\n// 订单合同页面\r\nexport const ORDER_CONTRACT = '/work/order/contract';\r\n// 合格证统一管理页面\r\nexport const WORK_CERTIFICATES = '/work/certificates';\r\n// 合格证页面，由数据直接生成可打印的合格证\r\nexport const CERTIFICATE_PAGE = '/work/order/certificate';\r\n// 订单技术参数页面\r\nexport const ORDER_SPEC = '/work/order/spec';\r\n// 加热器产品\r\nexport const WORK_JRQ = '/work/jrq';\r\n// 温控产品\r\nexport const WORK_WK = '/work/wk';\r\n\r\n// 个人事务\r\nexport const MY_PAGE = '/my';\r\n// 家庭事务\r\nexport const FAMILY_PAGE = '/family';\r\n","// ** 新建订单页面 ** //\r\nimport React, { useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  Select,\r\n  Radio,\r\n  DatePicker,\r\n  message\r\n} from \"antd\";\r\nimport * as ROUTES from \"constants/routes\";\r\nimport firebase from \"api/firebase\";\r\nimport styles from \"./createOrderForm.module.css\";\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst CreateOrderFormBase = props => {\r\n  const history = useHistory();\r\n  // 用于动态增删产品\r\n  const [items, setItems] = useState([0]);\r\n\r\n  const {\r\n    form: { getFieldDecorator, validateFieldsAndScroll }\r\n  } = props;\r\n\r\n  const addItem = () => setItems(prev => [...prev, 0]);\r\n  const removeItem = () => setItems(prev => prev.slice(0, prev.length - 1));\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    validateFieldsAndScroll((errors, values) => {\r\n      if (!errors) {\r\n        let { date, products } = values;\r\n        products = products.filter(product => product.name);\r\n        products.forEach(product => {\r\n          product.pressure = \"1.0\";\r\n        });\r\n        // 下单日期\r\n        const orderAt = date[0].format(\"YYYY-MM-DD\");\r\n        // 到货日期\r\n        const arrivalAt = date[1].format(\"YYYY-MM-DD\");\r\n        // 提交到数据库的单个产品信息\r\n        const order = {\r\n          ...values,\r\n          date: { orderAt, arrivalAt },\r\n          nameplate: false,\r\n          certificate: false,\r\n          products\r\n        };\r\n        console.log(\"order: \", order);\r\n        // api\r\n        firebase\r\n          .createOrder(order)\r\n          .then(() => {\r\n            message.success(\"订单创建成功\", 0.5);\r\n            history.push(ROUTES.WORK_ORDERS);\r\n          })\r\n          .catch(error => message.error(error.message));\r\n      }\r\n    });\r\n  };\r\n\r\n  const formItemLayout = {\r\n    labelCol: {\r\n      offset: 2,\r\n      span: 6\r\n    },\r\n    wrapperCol: {\r\n      span: 12\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={onSubmit} {...formItemLayout}>\r\n      <Form.Item>\r\n        <Button.Group>\r\n          <Button\r\n            disabled={items.length <= 1}\r\n            icon=\"minus\"\r\n            onClick={removeItem}\r\n          >\r\n            删除产品\r\n          </Button>\r\n          <Button type=\"primary\" icon=\"plus\" onClick={addItem}>\r\n            增加产品\r\n          </Button>\r\n        </Button.Group>\r\n      </Form.Item>\r\n      <Form.Item label=\"销售客户\" wrapperCol={{ span: 8 }}>\r\n        {getFieldDecorator(\"consumer\", {\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: \"请输入销售客户\"\r\n            },\r\n            {\r\n              whitespace: true,\r\n              message: \"销售客户不能为空白字符\"\r\n            }\r\n          ]\r\n        })(<Input autoFocus allowClear />)}\r\n      </Form.Item>\r\n      <Form.Item label=\"货期\" wrapperCol={{ span: 8 }}>\r\n        {getFieldDecorator(\"date\", {\r\n          initialValue: [moment(), moment().add(7, \"days\")],\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: \"请输入货期\"\r\n            }\r\n          ]\r\n        })(<RangePicker style={{ width: \"100%\" }} />)}\r\n      </Form.Item>\r\n      <Row gutter={10} className={styles.productRow}>\r\n        {items.map((item, index) => (\r\n          <Col\r\n            key={index}\r\n            span={8}\r\n            pull={index === 1 ? 8 : 0}\r\n            push={index === 0 ? 8 : 0}\r\n            className={styles.productCol}\r\n          >\r\n            <Form.Item label=\"款式\">\r\n              {getFieldDecorator(`products[${index}].model`, {\r\n                initialValue: \"HQS\"\r\n              })(\r\n                <Radio.Group>\r\n                  <Radio value=\"HQS\">HQS</Radio>\r\n                  <Radio value=\"HJ\">HJ</Radio>\r\n                </Radio.Group>\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item label=\"产品型号\">\r\n              {getFieldDecorator(`products[${index}].name`, {\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"请输入产品型号\"\r\n                  },\r\n                  {\r\n                    whitespace: true,\r\n                    message: \"产品型号不能为空白字符\"\r\n                  }\r\n                ]\r\n              })(<Input allowClear />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"材质\">\r\n              {getFieldDecorator(`products[${index}].material`, {\r\n                initialValue: \"304\",\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"请指定材质\"\r\n                  }\r\n                ]\r\n              })(\r\n                <Select>\r\n                  <Select.Option value=\"304\">304</Select.Option>\r\n                  <Select.Option value=\"碳钢\">碳钢</Select.Option>\r\n                  <Select.Option value=\"外壳碳钢 芯体304\">\r\n                    外壳碳钢 芯体304\r\n                  </Select.Option>\r\n                  <Select.Option value=\"316L\">316L</Select.Option>\r\n                </Select>\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item label=\"数量\">\r\n              {getFieldDecorator(`products[${index}].quantity`, {\r\n                initialValue: 1,\r\n                rules: [\r\n                  {\r\n                    required: true,\r\n                    message: \"请输入产品数量\"\r\n                  }\r\n                ]\r\n              })(<InputNumber min={1} max={99} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"重量 kg\">\r\n              {getFieldDecorator(`products[${index}].weight`, {\r\n                initialValue: 50\r\n              })(\r\n                <Radio.Group>\r\n                  <Radio.Button value={8}>{8}</Radio.Button>\r\n                  <Radio.Button value={15}>{15}</Radio.Button>\r\n                  <Radio.Button value={50}>{50}</Radio.Button>\r\n                  <Radio.Button value={200}>{200}</Radio.Button>\r\n                </Radio.Group>\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item label=\"流量 t/h\">\r\n              {getFieldDecorator(`products[${index}].flow`, {\r\n                initialValue: 20\r\n              })(<InputNumber min={1} max={2000} step={10} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"进水温度 °C\">\r\n              {getFieldDecorator(`products[${index}].heatFrom`, {\r\n                initialValue: 5\r\n              })(<InputNumber min={1} max={160} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"出水温度 °C\">\r\n              {getFieldDecorator(`products[${index}].heatTo`, {\r\n                initialValue: 65\r\n              })(<InputNumber min={1} max={200} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"法兰标准\">\r\n              {getFieldDecorator(`products[${index}].flangeStandard`, {\r\n                initialValue: \"GB/T 9119-2000\"\r\n              })(\r\n                <Select>\r\n                  <Select.Option value=\"GB/T 9119-2000\">\r\n                    GB/T 9119-2000\r\n                  </Select.Option>\r\n                  <Select.Option value=\"HG/T 20592-2009\">\r\n                    HG/T 20592-2009\r\n                  </Select.Option>\r\n                  <Select.Option value=\"GB/T 9119-2010\">\r\n                    GB/T 9119-2000\r\n                  </Select.Option>\r\n                  <Select.Option value=\"HG/T 20615-2009\">\r\n                    HG/T 20615-2009\r\n                  </Select.Option>\r\n                </Select>\r\n              )}\r\n            </Form.Item>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n      <Form.Item wrapperCol={{ span: 8, offset: 8 }}>\r\n        <Button\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          htmlType=\"submit\"\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          新建订单\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst CreateOrderForm = Form.create({ name: \"create_order\" })(\r\n  CreateOrderFormBase\r\n);\r\n\r\nexport default CreateOrderForm;\r\n","import React from 'react';\r\nimport { Table, Tag } from 'antd';\r\n\r\nconst { Column, ColumnGroup } = Table;\r\n\r\nconst hqsData = [\r\n  {\r\n    key: 'hqs0',\r\n    dn: 40,\r\n    carbonSteel: 510,\r\n    hybrid: 640,\r\n    ss304: 920,\r\n    ss316l: 1380,\r\n    d2205: 2760,\r\n  },\r\n  {\r\n    key: 'hqs1',\r\n    dn: 65,\r\n    carbonSteel: 540,\r\n    hybrid: 730,\r\n    ss304: 1960,\r\n    ss316l: 2490,\r\n    d2205: 5880,\r\n  },\r\n  {\r\n    key: 'hqs2',\r\n    dn: 125,\r\n    carbonSteel: 1420,\r\n    hybrid: 2410,\r\n    ss304: 4660,\r\n    ss316l: 6990,\r\n    d2205: 13980,\r\n  },\r\n  {\r\n    key: 'hqs3',\r\n    dn: 250,\r\n    carbonSteel: 3050,\r\n    hybrid: 6500,\r\n    ss304: 10550,\r\n    ss316l: 15825,\r\n    d2205: 31650,\r\n  },\r\n  {\r\n    key: 'hqs4',\r\n    dn: 300,\r\n    carbonSteel: 5000,\r\n    hybrid: 9900,\r\n    ss304: 16000,\r\n    ss316l: 24000,\r\n    d2205: 48000,\r\n  },\r\n  {\r\n    key: 'hqs5',\r\n    dn: 400,\r\n    carbonSteel: 10000,\r\n    hybrid: 16100,\r\n    ss304: 26000,\r\n    ss316l: 39000,\r\n    d2205: 78000,\r\n  },\r\n];\r\n\r\nconst HqsPriceTable = () => (\r\n  <div>\r\n    <Table\r\n      dataSource={hqsData}\r\n      pagination={false}\r\n      footer={() => (\r\n        <div>\r\n          底座价格：<Tag color=\"orange\">碳钢</Tag>材质 ￥500 一个，\r\n          <Tag color=\"orange\">304</Tag> 材质 ￥1000 一个\r\n        </div>\r\n      )}\r\n    >\r\n      <Column title=\"口径\" dataIndex=\"dn\" key=\"dn\" />\r\n      <ColumnGroup title=\"材质\">\r\n        <Column title=\"碳钢\" dataIndex=\"carbonSteel\" key=\"carbonSteel\" />\r\n        <Column title=\"混合\" dataIndex=\"hybrid\" key=\"hybrid\" />\r\n        <Column title=\"304\" dataIndex=\"ss304\" key=\"ss304\" />\r\n        <Column title=\"316L\" dataIndex=\"ss316l\" key=\"ss316l\" />\r\n        <Column title=\"2205\" dataIndex=\"d2205\" key=\"d2205\" />\r\n      </ColumnGroup>\r\n    </Table>\r\n  </div>\r\n);\r\n\r\nexport default HqsPriceTable;\r\n","import React from 'react';\r\nimport { Table } from 'antd';\r\n\r\nconst { Column, ColumnGroup } = Table;\r\n\r\nconst hjData = [\r\n  {\r\n    key: 'hj0',\r\n    dn: 25,\r\n    carbonSteel: 260,\r\n    ss304: 460,\r\n    ss316l: 560,\r\n  },\r\n  {\r\n    key: 'hj1',\r\n    dn: 32,\r\n    carbonSteel: 260,\r\n    ss304: 460,\r\n    ss316l: 560,\r\n  },\r\n  {\r\n    key: 'hj2',\r\n    dn: 40,\r\n    carbonSteel: 260,\r\n    ss304: 460,\r\n    ss316l: 560,\r\n  },\r\n  {\r\n    key: 'hj3',\r\n    dn: 50,\r\n    carbonSteel: 280,\r\n    ss304: 700,\r\n    ss316l: 830,\r\n  },\r\n  {\r\n    key: 'hj4',\r\n    dn: 65,\r\n    carbonSteel: 280,\r\n    ss304: 700,\r\n    ss316l: 830,\r\n  },\r\n  {\r\n    key: 'hj5',\r\n    dn: 80,\r\n    carbonSteel: 460,\r\n    ss304: 900,\r\n    ss316l: 1050,\r\n  },\r\n  {\r\n    key: 'hj6',\r\n    dn: 100,\r\n    carbonSteel: 460,\r\n    ss304: 900,\r\n    ss316l: 1050,\r\n  },\r\n  {\r\n    key: 'hj7',\r\n    dn: 125,\r\n    carbonSteel: 620,\r\n    ss304: 1150,\r\n    ss316l: 1400,\r\n  },\r\n  {\r\n    key: 'hj8',\r\n    dn: 150,\r\n    carbonSteel: 850,\r\n    ss304: 1150,\r\n    ss316l: 1700,\r\n  },\r\n];\r\n\r\nconst HjPriceTable = () => (\r\n  <Table dataSource={hjData} size=\"middle\" pagination={false}>\r\n    <Column title=\"口径\" dataIndex=\"dn\" key=\"dn\" />\r\n    <ColumnGroup title=\"材质\">\r\n      <Column title=\"碳钢\" dataIndex=\"carbonSteel\" key=\"carbonSteel\" />\r\n      <Column title=\"304\" dataIndex=\"ss304\" key=\"ss304\" />\r\n      <Column title=\"316L\" dataIndex=\"ss316l\" key=\"ss316l\" />\r\n    </ColumnGroup>\r\n  </Table>\r\n);\r\n\r\nexport default HjPriceTable;\r\n","// 喉部水流速度参考值 单位 m/s\r\nconst VELOCITY = 9.1229;\r\n// 蒸汽热焓值参考值 单位 KCal/kg\r\nconst STEAM_ENTHALPY = 656.93;\r\n// QSH-48 对应的斜孔数量\r\nconst STANDARD_HOLES_COUNT = 720;\r\n// QSH-48 对应的蒸汽流量 单位 kg/h\r\nconst STANDARD_STEAM_FLOW = 16724.99;\r\n\r\n// 千焦到千卡的转换系数\r\nconst KJ_TO_KCAL = 4.184;\r\n\r\n// 计算水管的直径\r\nexport const computeWaterDiameter = (flow, waterVelocity) =>\r\n  Math.ceil(2 * Math.sqrt(((flow / 3600 / waterVelocity) * 1000000) / Math.PI));\r\n\r\n// 计算水需要吸收的热量\r\nexport const computeCalorie = (flow, heatTo, heatFrom) =>\r\n  flow * 1000 * (heatTo - heatFrom);\r\n\r\n// 计算喉部直径\r\nexport const computeThroatDiameter = flow =>\r\n  Math.ceil(2 * Math.sqrt((1000000 * flow) / 3600 / VELOCITY / Math.PI));\r\n\r\n// 计算斜孔数量\r\nexport const computeHolesCount = (flow, heatFrom, heatTo) => {\r\n  const heatIn = flow * 1000 * (heatTo - heatFrom); // 吸收热量\r\n  const result =\r\n    (STANDARD_HOLES_COUNT * heatIn) /\r\n    (STEAM_ENTHALPY - heatTo) /\r\n    STANDARD_STEAM_FLOW;\r\n\r\n  return Math.ceil(result);\r\n};\r\n\r\n// 计算蒸汽耗量\r\nexport const computeSteamCount = (calorie, steamEnthalpy, heatTo) =>\r\n  Math.ceil(calorie / (steamEnthalpy / KJ_TO_KCAL - heatTo));\r\n\r\n// 计算蒸汽管道直径\r\nexport const computeSteamDiameter = (\r\n  steamCount, // 蒸汽耗量\r\n  steamSpecificHeatCapacity, // 蒸汽比热容\r\n  steamVelocity // 蒸汽经济流速 25 - 40 m/s 之间\r\n) => {\r\n  return Math.round(\r\n    2 *\r\n      Math.sqrt(\r\n        (1000000 *\r\n          ((steamCount * steamSpecificHeatCapacity) / 3600 / steamVelocity)) /\r\n          Math.PI\r\n      )\r\n  );\r\n};\r\n","// ** 热量计算 ** //\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Form,\r\n  InputNumber,\r\n  Button,\r\n  Statistic,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Slider\r\n} from \"antd\";\r\nimport {\r\n  computeHolesCount,\r\n  computeThroatDiameter,\r\n  computeWaterDiameter,\r\n  computeCalorie,\r\n  computeSteamCount,\r\n  computeSteamDiameter\r\n} from \"../helper\";\r\n\r\nconst HeatComputerBase = props => {\r\n  // 水管直径 单位 mm\r\n  const [waterDiameter, setWaterDiameter] = useState(0);\r\n  // 水加热需要吸收的热量 单位  KCal/h\r\n  const [calorie, setCalorie] = useState(0);\r\n  // 蒸汽耗量 单位 kg/h\r\n  const [steamCount, setSteamCount] = useState(0);\r\n  // 蒸汽直径 单位 mm\r\n  const [steamDiameter, setSteamDiameter] = useState(0);\r\n  // 喉径\r\n  const [throatDiameter, setThroatDiameter] = useState(0);\r\n  // 斜孔\r\n  const [holesCount, setHolesCount] = useState(0);\r\n\r\n  const {\r\n    form: { getFieldDecorator, validateFieldsAndScroll }\r\n  } = props;\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    validateFieldsAndScroll((errors, values) => {\r\n      if (!errors) {\r\n        const {\r\n          flow,\r\n          waterVelocity,\r\n          heatFrom,\r\n          heatTo,\r\n          // eslint-disable-next-line\r\n          steamPressure, // 蒸汽压力\r\n          // eslint-disable-next-line\r\n          steamTemperature, // 蒸汽温度\r\n          steamEnthalpy, // 蒸汽热焓值\r\n          steamSpecificHeatCapacity, // 蒸汽比热容\r\n          steamVelocity // 蒸汽经济流速\r\n        } = values;\r\n        // 计算水管的直径\r\n        const waterDiameter = computeWaterDiameter(flow, waterVelocity);\r\n        setWaterDiameter(waterDiameter);\r\n\r\n        // 计算水需要吸收的热量\r\n        const calorie = computeCalorie(flow, heatTo, heatFrom);\r\n        setCalorie(calorie);\r\n\r\n        // 喉径\r\n        const throatDiameter = computeThroatDiameter(flow);\r\n        setThroatDiameter(throatDiameter);\r\n\r\n        // 斜孔\r\n        const holesCount = computeHolesCount(flow, heatFrom, heatTo);\r\n        setHolesCount(holesCount);\r\n\r\n        // 蒸汽耗量\r\n        const steamCount = computeSteamCount(calorie, steamEnthalpy, heatTo);\r\n        setSteamCount(steamCount);\r\n\r\n        // 蒸汽管道直径\r\n        const steamDiameter = computeSteamDiameter(\r\n          steamCount,\r\n          steamSpecificHeatCapacity,\r\n          steamVelocity\r\n        );\r\n        setSteamDiameter(steamDiameter);\r\n      }\r\n    });\r\n  };\r\n\r\n  // 水的经济流速断点标记\r\n  const waterVelocityMarks = {\r\n    1.0: \"1.0 m/s\",\r\n    1.5: \"1.5 m/s\",\r\n    2.0: \"2.0 m/s\",\r\n    2.5: \"2.5 m/s\"\r\n  };\r\n\r\n  // 蒸汽的经济流速断点标记\r\n  const steamVelocityMarks = {\r\n    20: \"20 m/s\",\r\n    25: \"25 m/s\",\r\n    30: \"30 m/s\",\r\n    35: \"35 m/s\",\r\n    40: \"40 m/s\",\r\n    45: \"45 m/s\"\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row gutter={[32, 32]}>\r\n        <Col span={12}>\r\n          <Form\r\n            onSubmit={onSubmit}\r\n            wrapperCol={{ span: 18 }}\r\n            labelCol={{ span: 6 }}\r\n          >\r\n            <Form.Item label=\"水流量\">\r\n              {getFieldDecorator(\"flow\", {\r\n                initialValue: 10,\r\n                rules: [{ required: true, message: \"请输入水流量\" }]\r\n              })(<InputNumber />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"水的经济流速\">\r\n              {getFieldDecorator(\"waterVelocity\", {\r\n                initialValue: 1.5\r\n              })(\r\n                <Slider\r\n                  min={1.0}\r\n                  max={2.5}\r\n                  marks={waterVelocityMarks}\r\n                  step={0.5}\r\n                />\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item label=\"进水温度 °C\">\r\n              {getFieldDecorator(\"heatFrom\", {\r\n                initialValue: 5,\r\n                rules: [{ required: true, message: \"请输入进水温度\" }]\r\n              })(<InputNumber />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"出水温度 °C\">\r\n              {getFieldDecorator(\"heatTo\", {\r\n                initialValue: 65,\r\n                rules: [{ required: true, message: \"请输入出水温度\" }]\r\n              })(<InputNumber />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"蒸汽压力 MPa\">\r\n              {getFieldDecorator(\"steamPressure\", {\r\n                initialValue: 0.5,\r\n                rules: [{ required: true, message: \"请输入蒸汽压力\" }]\r\n              })(<InputNumber step={0.1} min={0.1} max={1.3} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"蒸汽温度 °C\">\r\n              {getFieldDecorator(\"steamTemperature\", {\r\n                initialValue: 165,\r\n                rules: [{ required: true, message: \"请输入蒸汽温度\" }]\r\n              })(<InputNumber min={100} max={300} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"蒸汽热焓 Kj/Kg\">\r\n              {getFieldDecorator(\"steamEnthalpy\", {\r\n                initialValue: 2700,\r\n                rules: [{ required: true, message: \"请输入蒸汽热焓\" }]\r\n              })(<InputNumber min={2700} max={2900} step={50} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"蒸汽比容 m³/Kg\">\r\n              {getFieldDecorator(\"steamSpecificHeatCapacity\", {\r\n                initialValue: 0.4,\r\n                rules: [{ required: true, message: \"请输入蒸汽比热容\" }]\r\n              })(<InputNumber min={0.2} max={0.6} step={0.1} />)}\r\n            </Form.Item>\r\n            <Form.Item label=\"蒸汽经济流速\">\r\n              {getFieldDecorator(\"steamVelocity\", {\r\n                initialValue: 25\r\n              })(\r\n                <Slider min={20} max={45} marks={steamVelocityMarks} step={5} />\r\n              )}\r\n            </Form.Item>\r\n            <Form.Item wrapperCol={{ offset: 6, span: 8 }}>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                计算\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Col span={12}>\r\n            <Card>\r\n              <Statistic\r\n                title=\"蒸汽耗量\"\r\n                value={steamCount}\r\n                valueStyle={{ color: \"#f50\" }}\r\n                suffix=\"kg/h\"\r\n              />\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card>\r\n              <Statistic title=\"蒸汽管道\" value={steamDiameter} suffix=\"mm\" />\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card>\r\n              <Statistic title=\"水管直径\" value={waterDiameter} suffix=\"mm\" />\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card>\r\n              <Statistic\r\n                title=\"吸收热量\"\r\n                value={calorie}\r\n                valueStyle={{ color: \"#f50\" }}\r\n                suffix=\"KCal/h\"\r\n              />\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card>\r\n              <Statistic title=\"喉部口径\" value={throatDiameter} suffix=\"mm\" />\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card>\r\n              <Statistic title=\"斜孔数量\" value={holesCount} />\r\n            </Card>\r\n          </Col>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HeatComputer = Form.create({ name: \"header_computer\" })(HeatComputerBase);\r\n\r\nexport default HeatComputer;\r\n","import React from \"react\";\r\nimport { Table } from \"antd\";\r\n\r\nconst { Column } = Table;\r\n\r\nconst data = [\r\n  {\r\n    dn: 40,\r\n    shellDn: 108,\r\n    shellThickness: 5,\r\n    coreThickness: 4.5\r\n  },\r\n  {\r\n    dn: 65,\r\n    shellDn: 133,\r\n    shellThickness: 6,\r\n    coreThickness: 4.5\r\n  },\r\n  {\r\n    dn: 125,\r\n    shellDn: 219,\r\n    shellThickness: 6,\r\n    coreThickness: 4.5\r\n  },\r\n  {\r\n    dn: 250,\r\n    shellDn: 273,\r\n    shellThickness: 8,\r\n    coreThickness: 6\r\n  }\r\n];\r\n\r\nconst HqsProduct = () => {\r\n  return (\r\n    <div>\r\n      <Table dataSource={data} rowKey={record => record.dn} pagination={false}>\r\n        <Column title=\"口径\" key=\"dn\" dataIndex=\"dn\" />\r\n        <Column title=\"外壳外径 mm\" key=\"shellDn\" dataIndex=\"shellDn\" />\r\n        <Column\r\n          title=\"外壳厚度 mm\"\r\n          key=\"shellThickness\"\r\n          dataIndex=\"shellThickness\"\r\n        />\r\n        <Column\r\n          title=\"喷管厚度 mm\"\r\n          key=\"coreThickness\"\r\n          dataIndex=\"coreThickness\"\r\n        />\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HqsProduct;\r\n","// ** HJ 浸没式加热器产品页面 ** //\r\n\r\nimport React from 'react';\r\nimport { Table } from 'antd';\r\n\r\nconst { Column } = Table;\r\n\r\nconst data = [\r\n  {\r\n    dn: 20,\r\n    holes: 12,\r\n    cols: 6,\r\n    loops: 2,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 25,\r\n    holes: 16,\r\n    cols: 4,\r\n    loops: 4,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 32,\r\n    holes: 30,\r\n    cols: 6,\r\n    loops: 5,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 40,\r\n    holes: 45,\r\n    cols: 9,\r\n    loops: 5,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 50,\r\n    holes: 72,\r\n    cols: 12,\r\n    loops: 6,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 65,\r\n    holes: 100,\r\n    cols: 10,\r\n    loops: 10,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 80,\r\n    holes: 150,\r\n    cols: 15,\r\n    loops: 10,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 100,\r\n    holes: 204,\r\n    cols: 17,\r\n    loops: 12,\r\n    holeDn: 3.5,\r\n  },\r\n  {\r\n    dn: 125,\r\n    holes: 300,\r\n    cols: 20,\r\n    loops: 15,\r\n    holeDn: 3.5,\r\n  },\r\n];\r\n\r\nconst HjProduct = () => (\r\n  <Table dataSource={data} rowKey={record => record.dn} pagination={false}>\r\n    <Column title=\"口径\" dataIndex=\"dn\" />\r\n    <Column title=\"孔数\" dataIndex=\"holes\" />\r\n    <Column title=\"列数\" dataIndex=\"cols\" />\r\n    <Column title=\"圈数\" dataIndex=\"loops\" />\r\n    <Column title=\"孔径\" dataIndex=\"holeDn\" />\r\n  </Table>\r\n);\r\n\r\nexport default HjProduct;\r\n","import React from \"react\";\r\nimport { Card, Typography } from \"antd\";\r\n\r\nconst { Paragraph, Title } = Typography;\r\nconst gridStyle = {\r\n  width: \"50%\",\r\n  minHeight: 150,\r\n  textAlign: \"justify\"\r\n};\r\n\r\nconst TechInfo = () => (\r\n  <div>\r\n    <Card title=\"知识卡片\">\r\n      <Card.Grid style={gridStyle}>\r\n        <Title level={4}>不锈钢耐氯离子腐蚀</Title>\r\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n          关于不锈钢材质耐氯离子腐蚀标准可参照《火电厂循环水处理》一书，其第 179\r\n          页，明确约定：304不锈钢 氯离子含量必须小于 200mg/L；316不锈钢\r\n          氯离子含量必须小于 1000mg/L；317不锈钢 氯离子含量必须小于\r\n          5000mg/L。按照 25℃ 的最高温度考虑。\r\n        </Paragraph>\r\n      </Card.Grid>\r\n      <Card.Grid style={gridStyle}>\r\n        <Title level={4}>管道式非标法兰</Title>\r\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>\r\n          管道式加热器的进出水两侧的法兰均为非标法兰，具体表现为法兰内径比国标法兰要小。比如\r\n          DN65 的国标法兰，内径为 65mm，而加热器出水侧法兰内径约为\r\n          50mm，进水侧法兰内径则更加小。但是螺栓孔和中心距与国标法兰相同，是可以与国标法兰配合安装的。管道式加热器的蒸汽侧法兰为国标法兰。\r\n        </Paragraph>\r\n      </Card.Grid>\r\n      <Card.Grid style={gridStyle}>\r\n        <Title level={4}>产品标准</Title>\r\n        <Paragraph>所有加热器产品按照《JB/T 7660-95》这一标准生产。</Paragraph>\r\n      </Card.Grid>\r\n      <Card.Grid style={gridStyle}>\r\n        <Title level={4}>加热器的喉部口径计算</Title>\r\n        喉部口径按照 165t/h 的水流量下，直径取 80mm 为基准值，此时的喉部流速为\r\n        9.1229 m/s。计算喉部口径时假设流速为 9.1229 m/s 来算出对应流量的口径。\r\n      </Card.Grid>\r\n      <Card.Grid style={gridStyle}>\r\n        <Title level={4}>加热器的芯体斜孔数量计算</Title>\r\n        以型号 QSH-48 为基准来计算斜孔数量。即水的流量为 165t/h，加热温差从 5℃\r\n        加热到 65℃ ，0.4 MPa 饱和蒸汽流量为 16724.99 kg/h，此时的斜孔数量取\r\n        720。\r\n      </Card.Grid>\r\n    </Card>\r\n  </div>\r\n);\r\n\r\nexport default TechInfo;\r\n","// ** 加热器产品页面 ** //\r\nimport React from \"react\";\r\nimport { Tabs } from \"antd\";\r\nimport HqsPriceTable from \"./hqsPriceTable\";\r\nimport HjPriceTable from \"./hjPriceTable\";\r\nimport HeatComputer from \"./heatComputer\";\r\nimport HqsProduct from \"./hqsProduct\";\r\nimport HjProduct from \"./hjProduct\";\r\nimport TechInfo from \"./techInfo\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst JrqProduct = () => (\r\n  <Tabs defaultActiveKey=\"1\">\r\n    <TabPane tab=\"计算\" key=\"1\">\r\n      <HeatComputer />\r\n    </TabPane>\r\n    <TabPane tab=\"管道式\" key=\"2\">\r\n      <HqsProduct />\r\n    </TabPane>\r\n    <TabPane tab=\"浸没式\" key=\"3\">\r\n      <HjProduct />\r\n    </TabPane>\r\n    <TabPane tab=\"管道式价格表\" key=\"4\">\r\n      <HqsPriceTable />\r\n    </TabPane>\r\n    <TabPane tab=\"浸没式价格表\" key=\"5\">\r\n      <HjPriceTable />\r\n    </TabPane>\r\n    <TabPane tab=\"技术信息\" key=\"6\">\r\n      <TechInfo />\r\n    </TabPane>\r\n  </Tabs>\r\n);\r\n\r\nexport default JrqProduct;\r\n","// ** 温控价格表 ** //\r\n\r\nimport React from \"react\";\r\nimport { Table } from \"antd\";\r\n\r\nconst { Column } = Table;\r\n\r\nconst data = [\r\n  {\r\n    model: \"WK31\",\r\n    price: 1100,\r\n    children: [\r\n      {\r\n        model: \"防爆\",\r\n        price: 3600\r\n      },\r\n      {\r\n        model: \"箱体材质 304\",\r\n        price: 1500\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    model: \"WK11A\",\r\n    price: 1150,\r\n    children: [\r\n      {\r\n        model: \"防爆\",\r\n        price: 4400\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    model: \"WK11B\",\r\n    price: 1200\r\n  }\r\n];\r\n\r\nconst WkPriceTable = props => {\r\n  return (\r\n    <div>\r\n      <Table\r\n        dataSource={data}\r\n        pagination={false}\r\n        footer={() => (\r\n          <div>\r\n            <p>- WK31 系列增加声光报警模块，加 360 元每套。</p>\r\n            <p>- WK31 系列增加 RS485 远传接口，加 380 元每套。</p>\r\n            <p>- 以上价格均包含 PT100 铂热电阻。</p>\r\n          </div>\r\n        )}\r\n        rowKey={record => `${record.model}-${record.price}`}\r\n      >\r\n        <Column width={600} title=\"型号\" dataIndex=\"model\" key=\"model\" />\r\n        <Column\r\n          title=\"价格\"\r\n          dataIndex=\"price\"\r\n          key=\"price\"\r\n          render={text => `￥${text}`}\r\n        />\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WkPriceTable;\r\n","// ** 温控产品页面 ** //\r\nimport React from \"react\";\r\nimport { Tabs, Typography, List, Tag, Collapse } from \"antd\";\r\nimport WkPriceTable from \"./wkPriceTable\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Panel } = Collapse;\r\nconst { Text } = Typography;\r\n\r\nconst WkProduct = () => (\r\n  <Tabs defaultActiveKey=\"techInfo\">\r\n    <TabPane tab=\"技术信息\" key=\"techInfo\">\r\n      <Collapse bordered={false} defaultActiveKey={[\"1\"]}>\r\n        <Panel header=\"控制箱\" key=\"1\">\r\n          仪表品牌为鸿润，控制箱的尺寸为 300 × 400 × 200mm。供应商：长沙易变电气\r\n        </Panel>\r\n        <Panel header=\"阀门\" key=\"2\">\r\n          <Collapse defaultActiveKey=\"1\">\r\n            <Panel header=\"电动调节阀\" key=\"1\">\r\n              电压 AC220V，模拟量控制，输入和输出信号均为 4-20ma。以 DN100\r\n              口径的电动调节阀为例，其功率为 150W。供应商：上海湖泉阀门\r\n            </Panel>\r\n            <Panel header=\"电磁阀\" key=\"2\">\r\n              DN50 及以下配套电磁阀，电压\r\n              AC220V，开关量控制。供应商：上海湖泉阀门。\r\n            </Panel>\r\n            <Panel header=\"电动蝶阀\" key=\"3\">\r\n              DN50 以上配套电动蝶阀，电压\r\n              AC220V，开关量控制。供应商：上海湖泉阀门。\r\n            </Panel>\r\n          </Collapse>\r\n        </Panel>\r\n        <Panel header=\"温度传感器\" key=\"3\">\r\n          PT100铂热电阻， 技术参数：外装式，螺纹规格 M27 * 2，探头长度\r\n          150mm。供应商：之前直接从长沙宇光采购，目前从长沙易变电气采购。\r\n        </Panel>\r\n        <Panel header=\"液位变送器\" key=\"4\">\r\n          型号为 H2，外装式，水箱侧壁靠下位置，预留 DN15\r\n          的导压管，耐高温热水。更多信息请查看《液深变送器选型说明书》。\r\n          供应商：甘肃天水华天。\r\n        </Panel>\r\n        <Panel header=\"连接线\" key=\"5\">\r\n          <List footer=\"温度控制系统默认不包含连接线，同时建议客户按现场条件自己配备线材。\">\r\n            <List.Item>\r\n              阀门到主机控制箱的连接线：<Tag color=\"geekblue\">六芯控制线</Tag>，\r\n              <Text code>KVV 6 × 1.5</Text>（这里的 6 指六芯，1.5\r\n              指线材的横截面积是 1.5 平方毫米）\r\n            </List.Item>\r\n            <List.Item>\r\n              温度传感器到主机控制箱的连接线：\r\n              <Tag color=\"geekblue\">三芯屏蔽线</Tag>，\r\n              <Text code>RVVP 3 × 1.5</Text>\r\n            </List.Item>\r\n            <List.Item>\r\n              RS485 远传模块端子的连接线：<Tag color=\"geekblue\">屏蔽双绞线</Tag>\r\n              ，<Text code>RVSP 2 × 0.5</Text>\r\n            </List.Item>\r\n          </List>\r\n        </Panel>\r\n        <Panel header=\"执行标准\" key=\"6\">\r\n          <List>\r\n            <List.Item>GB7251.1-2013: 低压成套设备</List.Item>\r\n            <List.Item> GB7251.3-2013: 低压配电箱</List.Item>\r\n          </List>\r\n        </Panel>\r\n      </Collapse>\r\n    </TabPane>\r\n    <TabPane tab=\"价格表\" key=\"priceTable\">\r\n      <WkPriceTable />\r\n    </TabPane>\r\n  </Tabs>\r\n);\r\n\r\nexport default WkProduct;\r\n","// ** 合同列表页面 ** //\r\nimport React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Table,\r\n  Divider,\r\n  Button,\r\n  Switch,\r\n  List,\r\n  Icon,\r\n  Typography,\r\n  Tag\r\n} from \"antd\";\r\nimport * as ROUTES from \"constants/routes\";\r\n\r\nconst { Column } = Table;\r\nconst { Text } = Typography;\r\n\r\nconst OrderTable = props => {\r\n  const history = useHistory();\r\n\r\n  const {\r\n    orders,\r\n    onRemoveOrder,\r\n    onToggleNameplatePrint,\r\n    onToggleCertificatePrint,\r\n    createCertificates,\r\n    removeCertificates\r\n  } = props;\r\n\r\n  const goCreateOrder = () => history.push(ROUTES.CREATE_ORDER);\r\n\r\n  const handleCertificateChange = async (record, checked) => {\r\n    const {\r\n      id,\r\n      products,\r\n      date: { arrivalAt }\r\n    } = record;\r\n    await onToggleCertificatePrint(id, checked);\r\n    // firestore 对于元素类型为对象的数组支持比较差\r\n    // 为了适应 firestore 的数据结构，将 products 转化成对象结构\r\n    const productsInfo = {};\r\n    products.forEach(product => {\r\n      const { name, quantity, model } = product;\r\n      productsInfo[name] = {\r\n        model,\r\n        quantity\r\n      };\r\n    });\r\n    const certificateInfo = {\r\n      arrivalAt, // 用作检验日期\r\n      orderId: id, // 对应的订单 id\r\n      products: productsInfo,\r\n      printDone: false, // 是否已打印\r\n      preparePrintAt: Date.now(), // 准备打印日期\r\n    };\r\n    // 选中则新建该订单下所有产品的合格证，不选中则删除该订单下所有产品的合格证\r\n    checked\r\n      ? await createCertificates(id, certificateInfo)\r\n      : await removeCertificates(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button type=\"primary\" onClick={goCreateOrder}>\r\n        新建订单\r\n      </Button>\r\n      <Table\r\n        dataSource={orders}\r\n        rowKey={record => record.id}\r\n        pagination={{ position: \"top\" }}\r\n        size=\"middle\"\r\n      >\r\n        <Column\r\n          title=\"产品\"\r\n          dataIndex=\"product\"\r\n          key=\"product\"\r\n          render={(text, record) => (\r\n            <Link\r\n              to={{\r\n                pathname: `${ROUTES.WORK_ORDER}/${record.id}`,\r\n                state: record\r\n              }}\r\n            >\r\n              <List\r\n                size=\"small\"\r\n                split={false}\r\n                dataSource={record.products}\r\n                renderItem={product => (\r\n                  <List.Item>\r\n                    <span>\r\n                      <Tag color=\"blue\">\r\n                        <span>{product.name}</span>\r\n                      </Tag>\r\n                      <Text code>\r\n                        <span>{product.quantity}</span>\r\n                      </Text>\r\n                    </span>\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Link>\r\n          )}\r\n        />\r\n        <Column\r\n          title=\"销售客户\"\r\n          dataIndex=\"consumer\"\r\n          key=\"consumer\"\r\n          render={text => <Text copyable>{text}</Text>}\r\n        />\r\n        <Column\r\n          title=\"采购日期\"\r\n          dataIndex=\"orderAt\"\r\n          key=\"orderAt\"\r\n          render={(text, record) => (\r\n            <span>{record.date && record.date.orderAt}</span>\r\n          )}\r\n        />\r\n        <Column\r\n          title=\"铭牌\"\r\n          dataIndex=\"nameplate\"\r\n          key=\"nameplate\"\r\n          filters={[\r\n            { text: \"已打印\", value: true },\r\n            { text: \"未打印\", value: false }\r\n          ]}\r\n          onFilter={(value, record) => record.nameplate === value}\r\n          render={(text, record) => (\r\n            <Switch\r\n              checked={record.nameplate}\r\n              onChange={checked => onToggleNameplatePrint(record.id, checked)}\r\n              checkedChildren={<Icon type=\"check\" />}\r\n              unCheckedChildren={<Icon type=\"close\" />}\r\n              defaultChecked\r\n            />\r\n          )}\r\n        />\r\n        <Column\r\n          title=\"合格证\"\r\n          dataIndex=\"certificate\"\r\n          key=\"certificate\"\r\n          filters={[\r\n            { text: \"已打印\", value: true },\r\n            { text: \"未打印\", value: false }\r\n          ]}\r\n          onFilter={(value, record) => record.certificate === value}\r\n          render={(text, record) => (\r\n            <Switch\r\n              checked={record.certificate}\r\n              onChange={checked => handleCertificateChange(record, checked)}\r\n              checkedChildren={<Icon type=\"check\" />}\r\n              unCheckedChildren={<Icon type=\"close\" />}\r\n              defaultChecked\r\n            />\r\n          )}\r\n        />\r\n        <Column\r\n          title=\"操作\"\r\n          key=\"action\"\r\n          render={(text, record) => (\r\n            <span>\r\n              <Button\r\n                type=\"link\"\r\n                icon=\"delete\"\r\n                onClick={() => onRemoveOrder(record.id)}\r\n              />\r\n              <Divider type=\"vertical\" />\r\n              <Button type=\"link\" icon=\"edit\" />\r\n              <Divider type=\"vertical\" />\r\n              <Button type=\"link\" icon=\"copy\" />\r\n            </span>\r\n          )}\r\n        />\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderTable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Spin } from \"antd\";\r\nimport firebase from \"api/firebase\";\r\nimport OrderTable from \"./orderTable\";\r\n\r\nconst WorkPage = props => {\r\n  const [orders, setOrders] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.orders().onSnapshot(snapshot => {\r\n      const orders = [];\r\n      // doc.data() 得到的仅仅是用于展示目的的数据，拼接 id 属性进去，利于后续操作单个对应的订单\r\n      snapshot.forEach(doc => orders.push({ ...doc.data(), id: doc.id }));\r\n      setOrders(orders);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const removeOrder = async id => {\r\n    await firebase.removeOrder(id);\r\n  };\r\n\r\n  const toggleNameplatePrint = async (id, checked) => {\r\n    await firebase.toggleNameplatePrint(id, checked);\r\n  };\r\n\r\n  const toggleCertificatePrint = async (id, checked) => {\r\n    await firebase.toggleCertificatePrint(id, checked);\r\n  };\r\n\r\n  const createCertificates = async (id, certificateInfo) => {\r\n    await firebase.createCertificates(id, certificateInfo);\r\n  };\r\n\r\n  const removeCertificates = async id => await firebase.removeCertificates(id);\r\n\r\n  return (\r\n    <div>\r\n      {orders ? (\r\n        <OrderTable\r\n          orders={orders}\r\n          onRemoveOrder={removeOrder}\r\n          onToggleNameplatePrint={toggleNameplatePrint}\r\n          onToggleCertificatePrint={toggleCertificatePrint}\r\n          createCertificates={createCertificates}\r\n          removeCertificates={removeCertificates}\r\n        />\r\n      ) : (\r\n        <Spin />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkPage;\r\n","import React from \"react\";\r\n\r\nconst My = props => <div>my page</div>;\r\n\r\nexport default My;\r\n","import React from \"react\";\r\n\r\nconst FamilyPage = props => <div>family page</div>;\r\n\r\nexport default FamilyPage;\r\n","// 与加热器等产品相关的常量\r\n\r\n// 管道式加热器 型号到价格的映射表\r\nexport const HQS_MATRIX = {\r\n  碳钢: {\r\n    DN40: 510,\r\n    DN65: 540,\r\n    DN125: 1420,\r\n    DN250: 3050,\r\n  },\r\n  '304': {\r\n    DN40: 920,\r\n    DN65: 1960,\r\n    DN125: 4660,\r\n    DN250: 10550,\r\n  },\r\n  '316L': {\r\n    DN40: 1380,\r\n    DN65: 2490,\r\n    DN125: 6990,\r\n    DN250: 15825,\r\n  },\r\n  '外壳碳钢 芯体304': {\r\n    DN40: 640,\r\n    DN65: 730,\r\n    DN125: 2410,\r\n    DN250: 6500,\r\n  },\r\n};\r\n\r\n// 加热器 型号到价格的映射表\r\nexport const HJ_MATRIX = {\r\n  碳钢: {\r\n    DN25: 260,\r\n    DN32: 260,\r\n    DN40: 260,\r\n    DN50: 280,\r\n    DN65: 280,\r\n    DN80: 460,\r\n    DN100: 460,\r\n    DN125: 620,\r\n    DN150: 850,\r\n  },\r\n  '304': {\r\n    DN25: 460,\r\n    DN32: 460,\r\n    DN40: 460,\r\n    DN50: 700,\r\n    DN65: 700,\r\n    DN80: 900,\r\n    DN100: 900,\r\n    DN125: 1150,\r\n    DN150: 1150,\r\n  },\r\n  '316L': {\r\n    DN25: 560,\r\n    DN32: 560,\r\n    DN40: 560,\r\n    DN50: 830,\r\n    DN65: 830,\r\n    DN80: 1050,\r\n    DN100: 1050,\r\n    DN125: 1400,\r\n    DN150: 1700,\r\n  },\r\n};\r\n","// ** 产品详情页 ** //\r\nimport React from \"react\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport {\r\n  Descriptions,\r\n  Typography,\r\n  Button,\r\n  Collapse,\r\n  Row,\r\n  Col,\r\n  Empty\r\n} from \"antd\";\r\nimport * as ROUTES from \"constants/routes\";\r\nimport * as PRODUCT from \"constants/product\";\r\nimport { computeHolesCount, computeThroatDiameter } from \"../helper\";\r\nimport styles from \"./orderDetail.module.css\";\r\n\r\nconst { Text, Title, Paragraph } = Typography;\r\nconst { Panel } = Collapse;\r\n\r\nconst OrderDetailPage = () => {\r\n  let {\r\n    id,\r\n    consumer,\r\n    products,\r\n    date: { orderAt, arrivalAt }\r\n  } = useLocation().state;\r\n\r\n  const arrivalMonth = arrivalAt.slice(0, 7);\r\n\r\n  products = products.map(product => {\r\n    const {\r\n      name,\r\n      flow,\r\n      heatFrom,\r\n      heatTo,\r\n      quantity,\r\n      weight,\r\n      pressure,\r\n      flangeStandard,\r\n      material,\r\n      model\r\n    } = product;\r\n\r\n    // 喉部直径由流量推算出\r\n    const throatDiameter = computeThroatDiameter(flow);\r\n    // 斜孔数量由流量和温差共同推算出\r\n    const holesCount = computeHolesCount(flow, heatFrom, heatTo);\r\n\r\n    // 根据产品型号推算三个口径，特殊型号后续自行修改\r\n    // HQS-125-20G --> ['HQS', 125, 20, 'G']\r\n    // HJ-50C --> ['HJ', '50C']\r\n    const prefix = name.split(\"-\")[0];\r\n    const dn =\r\n      model === \"HQS\"\r\n        ? `DN${name.split(\"-\")[1]}`\r\n        : `DN${name.split(\"-\")[1].slice(0, name.split(\"-\")[1].length - 1)}`;\r\n    const dnInlet = dn; // 进水口径\r\n    const dnOutlet = dn; // 出水口径\r\n    const dnSteam = prefix === \"JRG\" ? `DN150` : dn; // 蒸汽口径\r\n\r\n    // 生产编号\r\n    const serialNumber = `${orderAt.replace(/-/g, \"\")}01`;\r\n\r\n    // 产品单价\r\n    const price =\r\n      model === \"HQS\"\r\n        ? PRODUCT.HQS_MATRIX[material][dn]\r\n        : PRODUCT.HJ_MATRIX[material][dn];\r\n\r\n    const nameplateText = `\r\n  产品型号: ${product.name}\r\n  数量: ${quantity}\r\n  下单日期: ${orderAt}\r\n  出厂日期: ${arrivalMonth}\r\n  销售客户: ${consumer}\r\n  编号: ${serialNumber}\r\n  流量 t/h: ${flow}\r\n  重量 kg: ${weight}\r\n  压力 MPa: ${pressure}\r\n`;\r\n    // 合同内单类别产品信息\r\n    const contractItemText =\r\n      model === \"HQS\"\r\n        ? `法兰标准：${flangeStandard}。材质 ${material}，进水侧口径 ${dnInlet}，出水侧口径 ${dnOutlet}，蒸汽侧口径 ${dnSteam}，喉径 ${throatDiameter}mm，斜孔数 ${holesCount}，斜孔直径 3.5mm，角度与水平线成 30℃。`\r\n        : `法兰标准：${flangeStandard}。材质 ${material}，口径 ${dn}`;\r\n\r\n    return {\r\n      ...product,\r\n      throatDiameter,\r\n      holesCount,\r\n      dnInlet,\r\n      dnOutlet,\r\n      dnSteam,\r\n      material,\r\n      price,\r\n      serialNumber,\r\n      nameplateText,\r\n      contractItemText\r\n    };\r\n  });\r\n\r\n  // 传递给技术参数页面的属性，仅传递 id 以及与技术参数相关属性\r\n  const propsPassToSpecPage = {\r\n    id,\r\n    products: products.map(\r\n      ({\r\n        name,\r\n        flow,\r\n        heatFrom,\r\n        heatTo,\r\n        quantity,\r\n        weight,\r\n        pressure,\r\n        flangeStandard,\r\n        model,\r\n        throatDiameter,\r\n        holesCount,\r\n        dnInlet,\r\n        dnOutlet,\r\n        dnSteam,\r\n        material\r\n      }) => ({\r\n        name,\r\n        flow,\r\n        heatFrom,\r\n        heatTo,\r\n        quantity,\r\n        weight,\r\n        pressure,\r\n        flangeStandard,\r\n        model,\r\n        throatDiameter,\r\n        holesCount,\r\n        dnInlet,\r\n        dnOutlet,\r\n        dnSteam,\r\n        material\r\n      })\r\n    )\r\n  };\r\n\r\n  // 传递给合格证页面的属性\r\n  const propsPassToCertificatePage = {\r\n    id,\r\n    arrivalAt,\r\n    products: products.map(({ name, model, quantity }) => ({\r\n      name,\r\n      model,\r\n      quantity\r\n    }))\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row gutter={[0, 80]} style={{ marginBottom: 64 }}>\r\n        <Col span={6}>\r\n          <Title level={4} type=\"secondary\">\r\n            产品清单\r\n          </Title>\r\n        </Col>\r\n        <Col span={18} style={{ paddingLeft: 16 }}>\r\n          <Collapse\r\n            expandIconPosition=\"right\"\r\n            bordered={false}\r\n            defaultActiveKey={[\"dn\"]}\r\n          >\r\n            {products.map(product => (\r\n              <Panel\r\n                className={styles.collapsePanel}\r\n                header={\r\n                  <div>\r\n                    {product.name} <Text code>{product.quantity}</Text>\r\n                  </div>\r\n                }\r\n                key={product.name}\r\n              >\r\n                <p>{product.contractItemText}</p>\r\n                <p>\r\n                  单价 ￥{product.price}，{product.quantity} 台共计 ￥\r\n                  {product.price * product.quantity}\r\n                </p>\r\n              </Panel>\r\n            ))}\r\n          </Collapse>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={[0, 80]} style={{ marginBottom: 64 }}>\r\n        <Col span={6}>\r\n          <Title level={4} type=\"secondary\">\r\n            CRM 辅助文本\r\n          </Title>\r\n        </Col>\r\n        <Col span={18} style={{ paddingLeft: 16 }}>\r\n          <Collapse\r\n            expandIconPosition=\"right\"\r\n            bordered={false}\r\n            defaultActiveKey={[\"purchaseTitle\"]}\r\n          >\r\n            <Panel\r\n              className={styles.collapsePanel}\r\n              header=\"采购主题\"\r\n              key=\"purchaseTitle\"\r\n            >\r\n              <Paragraph copyable>\r\n                {consumer}{\" \"}\r\n                {products\r\n                  .map(product => `${product.name} ${product.quantity} 台 `)\r\n                  .join(\"\")}\r\n              </Paragraph>\r\n            </Panel>\r\n            <Panel\r\n              className={styles.collapsePanel}\r\n              header={<div>产品明细</div>}\r\n              key=\"productsInfo\"\r\n            >\r\n              {products.map((product, index) => (\r\n                <Collapse key={product.name} defaultActiveKey=\"0\">\r\n                  <Panel header={product.name} key={index}>\r\n                    <p>品名：{product.model}</p>\r\n                    <p>型号：{product.name}</p>\r\n                    <p>数量：{product.quantity}</p>\r\n                    <p>单价：￥{product.price}</p>\r\n                    <p>金额：￥{product.quantity * product.price}</p>\r\n                    <div>\r\n                      备注：<Text copyable>{product.contractItemText}</Text>\r\n                    </div>\r\n                  </Panel>\r\n                </Collapse>\r\n              ))}\r\n            </Panel>\r\n          </Collapse>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={[8, 80]} style={{ background: \"#fafafa\", width: \"100%\" }}>\r\n        <Col span={6}>\r\n          <Title level={4} type=\"secondary\">\r\n            铭牌\r\n          </Title>\r\n        </Col>\r\n        <Col span={18}>\r\n          {products.filter(product => product.model === \"HQS\").length ? (\r\n            products\r\n              .filter(product => product.model === \"HQS\")\r\n              .map(product => (\r\n                <Descriptions\r\n                  key={product.name}\r\n                  className={styles.nameplateCard}\r\n                >\r\n                  <Descriptions.Item label=\"产品型号\" span={3}>\r\n                    {product.name}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"销售客户\" span={3}>\r\n                    {consumer}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"数量\" span={3}>\r\n                    {product.quantity}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"下单日期\" span={3}>\r\n                    {orderAt}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"出厂日期\" span={3}>\r\n                    {arrivalMonth}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"编号\" span={3}>\r\n                    {product.serialNumber}\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"流量\" span={3}>\r\n                    {product.flow} t/h\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"重量\" span={3}>\r\n                    {product.weight} kg\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"压力\" span={3}>\r\n                    {product.pressure} MPa\r\n                  </Descriptions.Item>\r\n                  <Descriptions.Item label=\"铭牌纯文本\" span={3}>\r\n                    <Text copyable={{ text: product.nameplateText }}>复制</Text>\r\n                  </Descriptions.Item>\r\n                </Descriptions>\r\n              ))\r\n          ) : (\r\n            <Empty description=\"当前订单没有铭牌信息\" />\r\n          )}\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={[16, 80]}>\r\n        <Col span={6}>\r\n          <div>\r\n            <Title level={4} type=\"secondary\">\r\n              链接\r\n            </Title>\r\n          </div>\r\n        </Col>\r\n        <Col span={18}>\r\n          <div>\r\n            <div>\r\n              <Link\r\n                to={{\r\n                  pathname: `${ROUTES.ORDER_CONTRACT}/${id}`,\r\n                  state: { id, products, date: { orderAt, arrivalAt } }\r\n                }}\r\n              >\r\n                <Button type=\"link\" icon=\"right-square\">\r\n                  采购合同\r\n                </Button>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: `${ROUTES.CERTIFICATE_PAGE}/${id}`,\r\n                  state: propsPassToCertificatePage\r\n                }}\r\n              >\r\n                <Button type=\"link\" icon=\"right-square\">\r\n                  产品合格证\r\n                </Button>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: `${ROUTES.ORDER_SPEC}/${id}`,\r\n                  state: propsPassToSpecPage\r\n                }}\r\n              >\r\n                <Button type=\"link\" icon=\"right-square\">\r\n                  技术参数\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetailPage;\r\n","// ** 合同页面，由数据自动生成 ** //\r\nimport React from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Divider, Typography, Col, Row, Card, Table } from \"antd\";\r\nimport \"./contract.module.css\";\r\n\r\nconst { Text, Title } = Typography;\r\nconst { Column } = Table;\r\n\r\n// 加热器结构形式和符号的映射\r\nconst modelMap = {\r\n  HJ: \"浸没式加热器\",\r\n  HQS: \"管道式加热器\"\r\n};\r\n\r\nconst ContractPage = () => {\r\n  let {\r\n    products,\r\n    date: { orderAt }\r\n  } = useLocation().state;\r\n\r\n  products = products.map(product => ({\r\n    ...product,\r\n    totalPrice: product.quantity * product.price\r\n  }));\r\n\r\n  // 订单内产品总数量\r\n  const productsCount = products.reduce((acc, cur) => acc + cur.quantity, 0);\r\n\r\n  // 订单总金额\r\n  const orderAmount = products.reduce(\r\n    (acc, cur) => acc + cur.quantity * cur.price,\r\n    0\r\n  );\r\n\r\n  // 合同编号\r\n  const contractNumber = `${orderAt}01`;\r\n  // 汉化日期\r\n  const sinicizationDate = orderAt => {\r\n    const year = orderAt.split(\"-\")[0];\r\n    const month = orderAt.split(\"-\")[1];\r\n    const day = orderAt.split(\"-\")[2];\r\n    return {\r\n      contractStartAt: `${year} 年 ${month} 月 ${day} 日`,\r\n      contractEndAt: `${+year + 1} 年 ${month} 月 ${day} 日`\r\n    };\r\n  };\r\n  // 合同签订和到期时间\r\n  const { contractStartAt, contractEndAt } = sinicizationDate(orderAt);\r\n\r\n  return (\r\n    <div className=\"contract-panel\">\r\n      <div className=\"contract-secondary\">\r\n        <Text type=\"secondary\">SEMEM</Text>\r\n        <Text type=\"secondary\">合同文本</Text>\r\n      </div>\r\n      <Divider />\r\n      <div className=\"contract-title\">\r\n        <Title level={1}>湖南西门机电科技有限公司</Title>\r\n        <Title level={4}>产品采购合同</Title>\r\n        <p>合同编号：{contractNumber}</p>\r\n        <p className=\"contract-companies\">\r\n          <Text strong>供方：长沙南风机电设备有限公司</Text>\r\n          <Text strong>需方：湖南西门机电科技有限公司</Text>\r\n        </p>\r\n      </div>\r\n      <section className=\"contract-items\">\r\n        <div>\r\n          <p>一、产品信息</p>\r\n          <Table\r\n            dataSource={products}\r\n            rowKey={record => record.name}\r\n            footer={() => (\r\n              <div>\r\n                共 {productsCount} 件产品，合计：￥{orderAmount}\r\n              </div>\r\n            )}\r\n            pagination={false}\r\n            bordered\r\n          >\r\n            <Column\r\n              title=\"产品名称\"\r\n              dataIndex=\"model\"\r\n              key=\"model\"\r\n              render={(text, record) => modelMap[record.model]}\r\n            />\r\n            <Column\r\n              title=\"型号\"\r\n              dataIndex=\"name\"\r\n              key=\"name\"\r\n              render={(text, record) => {\r\n                const s = text.split(\"-\");\r\n                // HQS-65-7C --> ['HQS', '65', '7C']\r\n                // HJ-40C --> ['HJ', '40C']\r\n                if (record.model === \"HJ\") return `DN${s[1]}`;\r\n                return `DN${s[1]}-${s[2]}`;\r\n              }}\r\n            />\r\n            <Column title=\"单价\" dataIndex=\"price\" key=\"price\" />\r\n            <Column title=\"数量\" dataIndex=\"quantity\" key=\"quantity\" />\r\n            <Column title=\"总价\" dataIndex=\"totalPrice\" key=\"totalPrice\" />\r\n            <Column\r\n              title=\"备注\"\r\n              width={450}\r\n              dataIndex=\"contractItemText\"\r\n              key=\"contractItemText\"\r\n            />\r\n          </Table>\r\n        </div>\r\n        <Divider />\r\n        <p>\r\n          二、质量要求技术标准、供方对质量负责的条件和期限：按企业标准制作，正常使用质量保证期为1年，1年内有制造质量问题，提供免费维修，超出质量保证期，收取成本维修费。\r\n        </p>\r\n        <p>三、交货时间：合同生效之日起 7 天内交货 。</p>\r\n        <p>\r\n          四、运输方式及到达站港和费用负担：公路运输，承担生产地到货运站的运费\r\n        </p>\r\n        <p>\r\n          五、验收标准、方法：按标准图纸验收，如未达到验收要求，予以退货，供方承担相应的经济责任。\r\n        </p>\r\n        <p>六、结算方式及期限： 账付，月结。</p>\r\n        <p>七、如需提供担保，另立合同担保书，作为本合同附件：无。</p>\r\n        <p>八、违约责任：按《质量协议书》执行。</p>\r\n      </section>\r\n      <section className=\"contract-payment\">\r\n        <Row>\r\n          <Col span={12}>\r\n            <Card title=\"供方\">\r\n              <p>单位名称：长沙南风机电设备有限公司 （章）</p>\r\n              <p>单位地址：长沙市雨花区环保东路 158 号办公楼</p>\r\n              <p>经 办 人： </p>\r\n              <p>电话：18684999975</p>\r\n              <p>传真：</p>\r\n              <p>开户银行：中国工商银行-长沙广厦支行</p>\r\n              <p>账 号：1901007209200378119</p>\r\n              <p>税 务 号：91430111MA4LYXHM73</p>\r\n            </Card>\r\n          </Col>\r\n          <Col span={12}>\r\n            <Card title=\"需方\">\r\n              <p>单位名称：湖南西门机电科技有限公司 （章）</p>\r\n              <p>单位地址：湖南省长沙市开福区迎宾路 235 号</p>\r\n              <p>经 办 人： </p>\r\n              <p>电话：0731-88801999</p>\r\n              <p>传真：0731-88801666</p>\r\n              <p>开户银行：中国银行-长沙市岳麓支行</p>\r\n              <p>账 号：584657351167</p>\r\n              <p>税 务 号：914301057072101169</p>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n      <p>\r\n        签订时间：{contractStartAt}，有效期限: 至 {contractEndAt}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContractPage;\r\n","// ** 展示所有技术参数的页面 ** //\r\nimport React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n// 树形展开所有属性\r\nconst OrderSpecPage = () => {\r\n  const params = useLocation().state;\r\n  return (\r\n    <div>\r\n      技术参数页面 展示所有的技术参数\r\n      <ul>\r\n        {Object.keys(params).map((k, index) => (\r\n          <li key={index}>\r\n            {k}: {JSON.stringify(params[k], null, 4)}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderSpecPage;\r\n","// ** 合格证页面，由数据直接生成可打印的合格证 ** //\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Button, Tag } from \"antd\";\r\nimport firebase from \"api/firebase\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styles from \"./certificate.module.css\";\r\n\r\nconst CertificatePage = () => {\r\n  const { products, arrivalAt } = useLocation().state;\r\n  const [certificates, setCertificates] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.certificates().onSnapshot(snapshot => {\r\n      const certificates = [];\r\n      snapshot.forEach(doc => certificates.push({ ...doc.data(), id: doc.id }));\r\n      setCertificates(certificates);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const onPrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.noPrint}>\r\n        <div>{JSON.stringify(certificates, null, 2)}</div>\r\n        <h1>合格证页面，由数据直接生成可打印的合格证</h1>\r\n        <p>1.如何设置 CSS 样式，使合格证按照期望的样式打印</p>\r\n        <p>2.为了充分利用纸张的空间，使用九宫格布局打印</p>\r\n        <p>3.如果一次只有3个合格证需要打印，如何自动填充浸没式合格证</p>\r\n        <p>{JSON.stringify(products, null, 2)}</p>\r\n        <Button icon=\"printer\" type=\"primary\" onClick={onPrint}>\r\n          打印\r\n        </Button>\r\n      </div>\r\n      <div id=\"certificate-card\" className={styles.cardArea}>\r\n        {products.map((product, index) => (\r\n          <div key={index} className={styles.container}>\r\n            <section className={styles.cardHeader}>\r\n              <p className={styles.title}>SEMEM</p>\r\n              <p>{product.model} Heater</p>\r\n              <p>检验合格证明书</p>\r\n            </section>\r\n            <section className={styles.cardBody}>\r\n              <p>\r\n                名称：\r\n                <span className={styles.productName}>{product.name}</span>\r\n              </p>\r\n              <p>\r\n                检验员：<Tag color=\"red\">0306</Tag>\r\n              </p>\r\n              <p>检验日期：{arrivalAt}</p>\r\n              <p>本产品经检验合格，符合标准，准予出厂。</p>\r\n            </section>\r\n            <section className={styles.cardFooter}>\r\n              <p className={styles.seal}>\r\n                <Tag color=\"red\">西门机电品质检验中心</Tag>\r\n              </p>\r\n              <p>湖南西门机电科技有限公司</p>\r\n            </section>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CertificatePage;\r\n","// ** 合格证统一管理页面 ** //\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  Tag,\r\n  Spin,\r\n  Tabs,\r\n  Icon,\r\n  List,\r\n  Card,\r\n  Empty,\r\n  Tooltip,\r\n  Input,\r\n  InputNumber,\r\n  DatePicker,\r\n  message\r\n} from \"antd\";\r\nimport firebase from \"api/firebase\";\r\nimport styles from \"./certificate.module.css\";\r\nimport classNames from \"classnames/bind\";\r\n\r\nlet cx = classNames.bind(styles);\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n// 以中文格式显示时间\r\nconst showTimeInCN = date => new Date(date).toLocaleString(\"zh-Hans-CN\");\r\n\r\nconst CertificatesManagePage = props => {\r\n  const { getFieldDecorator, validateFieldsAndScroll } = props.form;\r\n\r\n  // 用于展示的合格证卡片信息\r\n  const [certificates, setCertificates] = useState(null);\r\n  // 合格证卡片队列，一次最多打印 9 个。\r\n  const initialCardQueue = JSON.parse(localStorage.getItem(\"cardQueue\")) || [];\r\n  const [cardQueue, setCardQueue] = useState(initialCardQueue);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.certificates().onSnapshot(snapshot => {\r\n      const certificates = [];\r\n      snapshot.forEach(doc => {\r\n        // 转化成想要的结构，用于展示\r\n        const {\r\n          orderId,\r\n          arrivalAt,\r\n          products,\r\n          preparePrintAt,\r\n          printDone\r\n        } = doc.data();\r\n        Object.keys(products).forEach(name =>\r\n          certificates.push({\r\n            ...products[name],\r\n            name,\r\n            orderId,\r\n            arrivalAt,\r\n            preparePrintAt,\r\n            printDone\r\n          })\r\n        );\r\n      });\r\n\r\n      setCertificates(certificates);\r\n      localStorage.setItem(\"cardQueue\", JSON.stringify(cardQueue));\r\n    });\r\n    return unsubscribe;\r\n  }, [cardQueue]);\r\n\r\n  // 调用 Web API 启用打印机\r\n  const onPrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  // 清空添加到打印队列的合格证\r\n  const onClearAll = () => {\r\n    setCardQueue([]);\r\n  };\r\n\r\n  const addToCardQueue = async card => {\r\n    await firebase.finishCertificatesPrint(card.orderId, true);\r\n    setCardQueue(prev => [card, ...prev]);\r\n  };\r\n\r\n  const fillCard = event => {\r\n    event.preventDefault();\r\n    validateFieldsAndScroll((errors, values) => {\r\n      if (!errors) {\r\n        //\r\n        console.log(\"received values: \", values);\r\n        const { arrivalAt } = values;\r\n        setCardQueue(prev => [\r\n          { ...values, arrivalAt: arrivalAt.format(\"YYYY-MM\") },\r\n          ...prev\r\n        ]);\r\n        message.success(\"添加合格证成功\", 0.5);\r\n      } else {\r\n        message.error(\"添加合格证失败\", 2);\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeCard = cardName => {\r\n    console.log(\"remove card\");\r\n    setCardQueue(prev => prev.filter(card => card.name !== cardName));\r\n  };\r\n\r\n  return (\r\n    <Tabs defaultActiveKey=\"plan\">\r\n      <TabPane tab=\"计划\" key=\"plan\">\r\n        <div className={cx(\"noPrint\", \"planArea\")}>\r\n          <p>\r\n            备注：产品的合格证是以一个订单为基本单位，同一订单内的所有产品合格证应该同时被添加到打印队列，同时完成打印，以及同时被删除。\r\n          </p>\r\n          {certificates ? (\r\n            <List\r\n              grid={{ gutter: 16, xl: 6, md: 4 }}\r\n              footer=\"合格证不足 9 个时，可考虑用常见的浸没式加热器合格证填充\"\r\n              dataSource={certificates}\r\n              renderItem={item => (\r\n                <List.Item>\r\n                  <Card\r\n                    actions={[\r\n                      <Tooltip title=\"添加到打印列表\">\r\n                        <Icon\r\n                          type=\"plus-circle\"\r\n                          key=\"plus\"\r\n                          theme=\"twoTone\"\r\n                          onClick={() => addToCardQueue(item)}\r\n                        />\r\n                      </Tooltip>,\r\n                      <Icon type=\"edit\" key=\"edit\" />,\r\n                      <Icon type=\"ellipsis\" key=\"ellipsis\" />\r\n                    ]}\r\n                  >\r\n                    <p>{item.name}</p>\r\n                    <p>数量：{item.quantity} 台</p>\r\n                    <p>\r\n                      状态：\r\n                      {item.printDone ? (\r\n                        <Tag color=\"#108ee9\">已打印</Tag>\r\n                      ) : (\r\n                        <Tag color=\"#f50\">未打印</Tag>\r\n                      )}\r\n                    </p>\r\n                    <p>创建日期：{showTimeInCN(item.preparePrintAt)}</p>\r\n                    <p className={styles.ellipsis}>订单号：{item.orderId}</p>\r\n                  </Card>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          ) : (\r\n            <Spin />\r\n          )}\r\n        </div>\r\n      </TabPane>\r\n      <TabPane tab=\"预览\" key=\"preview\">\r\n        <div className={cx(\"noPrint\", \"cardActions\")}>\r\n          <Button.Group>\r\n            <Button icon=\"printer\" type=\"primary\" onClick={onPrint}>\r\n              打印\r\n            </Button>\r\n            <Button icon=\"delete\" type=\"danger\" onClick={onClearAll}>\r\n              清空\r\n            </Button>\r\n          </Button.Group>\r\n        </div>\r\n        {cardQueue.length ? (\r\n          <div className={styles.cardArea}>\r\n            {cardQueue.map(card =>\r\n              Array.from(new Array(card.quantity)).map((item, index) => (\r\n                <div key={`${card.name}-${card.arrivalAt}-${index}`}>\r\n                  <div className={styles.container}>\r\n                    <section className={styles.cardHeader}>\r\n                      <p className={styles.title}>\r\n                        <span>SEMEM</span>\r\n                        <Button\r\n                          ghost\r\n                          className={styles.noPrint}\r\n                          icon=\"minus\"\r\n                          onClick={() => removeCard(card.name)}\r\n                        />\r\n                      </p>\r\n                      <p>\r\n                        {card.model === \"HQS\"\r\n                          ? card.name.slice(0, 3)\r\n                          : card.model}{\" \"}\r\n                        Heater\r\n                      </p>\r\n                      <p>检验合格证明书</p>\r\n                    </section>\r\n                    <section className={styles.cardBody}>\r\n                      <p>\r\n                        名称：\r\n                        <span className={styles.productName}>{card.name}</span>\r\n                      </p>\r\n                      <p>\r\n                        检验员：<Tag color=\"red\">0306</Tag>\r\n                      </p>\r\n                      <p>检验日期：{card.arrivalAt}</p>\r\n                      <p>本产品经检验合格，符合标准，准予出厂。</p>\r\n                    </section>\r\n                    <section className={styles.cardFooter}>\r\n                      <p className={styles.seal}>\r\n                        <Tag color=\"red\">西门机电品质检验中心</Tag>\r\n                      </p>\r\n                      <p>湖南西门机电科技有限公司</p>\r\n                    </section>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <Empty />\r\n        )}\r\n      </TabPane>\r\n      <TabPane tab=\"填充\" key=\"fill\">\r\n        <Form onSubmit={fillCard} layout=\"inline\">\r\n          <Form.Item label=\"产品名称\">\r\n            {getFieldDecorator(\"name\", {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: \"请输入产品名称\"\r\n                }\r\n              ]\r\n            })(<Input allowClear autoFocus />)}\r\n          </Form.Item>\r\n          <Form.Item label=\"数量\">\r\n            {getFieldDecorator(\"quantity\", {\r\n              initialValue: 1,\r\n              rules: [{ required: true, message: \"请指定数量\" }]\r\n            })(<InputNumber min={1} max={9} />)}\r\n          </Form.Item>\r\n          <Form.Item label=\"结构形式\">\r\n            {getFieldDecorator(\"model\", {\r\n              initialValue: \"HJ\",\r\n              rules: [{ required: true, message: \"请指定结构\" }]\r\n            })(<Input />)}\r\n          </Form.Item>\r\n          <Form.Item label=\"检验日期\">\r\n            {getFieldDecorator(\"arrivalAt\", {\r\n              initialValue: moment(),\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: \"请指定检验日期\"\r\n                }\r\n              ]\r\n            })(<DatePicker />)}\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button htmlType=\"submit\" type=\"primary\">\r\n              添加\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </TabPane>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default Form.create({ name: \"fill_card\" })(CertificatesManagePage);\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport { Layout, Menu, Icon, Result } from \"antd\";\r\nimport useAuth from \"./hooks/useAuth\";\r\n\r\nimport LoginForm from \"./components/signIn\";\r\nimport WorkFlowPage from \"./pages/work/flow\";\r\nimport CreateOrderForm from \"./pages/work/order/createOrderForm\";\r\nimport JrqProduct from \"./pages/work/jrq\";\r\nimport WkProduct from \"./pages/work/wk\";\r\nimport WorkPage from \"./pages/work/order\";\r\nimport MyPage from \"./pages/my\";\r\nimport FamilyPage from \"./pages/family\";\r\nimport OrderDetailPage from \"./pages/work/order/orderDetail\";\r\nimport ContractPage from \"./pages/work/order/contract\";\r\nimport OrderSpecPage from \"./pages/work/order/orderSpec\";\r\nimport CertificatePage from \"./pages/work/order/certificate\";\r\nimport CertificatesManagePage from \"./pages/work/order/certificatesManage\";\r\nimport * as ROUTES from \"constants/routes\";\r\n\r\nconst { Header, Content, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nfunction App() {\r\n  const auth = useAuth();\r\n\r\n  return (\r\n    <Router>\r\n      <Layout>\r\n        <Sider\r\n          style={{\r\n            overflow: \"auto\",\r\n            height: \"100vh\",\r\n            position: \"fixed\",\r\n            left: 0\r\n          }}\r\n        >\r\n          <div className=\"logo\" />\r\n          <Menu\r\n            theme=\"dark\"\r\n            mode=\"inline\"\r\n            defaultSelectedKeys={[\"order-table\"]}\r\n          >\r\n            <SubMenu\r\n              key=\"work\"\r\n              title={\r\n                <Link to=\"/work\">\r\n                  <Icon type=\"windows\" />\r\n                  工作\r\n                </Link>\r\n              }\r\n            >\r\n              <Menu.Item key=\"work-flow\">\r\n                <Link to={ROUTES.WORK_FLOW}>\r\n                  <Icon type=\"rocket\" />\r\n                  工作流\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"create-order\">\r\n                <Link to={ROUTES.CREATE_ORDER}>\r\n                  <Icon type=\"file-add\" />\r\n                  新建订单\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"order-table\">\r\n                <Link to={ROUTES.WORK_ORDERS}>\r\n                  <Icon type=\"table\" />\r\n                  订单\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"certificates\">\r\n                <Link to={ROUTES.WORK_CERTIFICATES}>\r\n                  <Icon type=\"file-image\" />\r\n                  合格证\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"jrq\">\r\n                <Link to={ROUTES.WORK_JRQ}>\r\n                  <Icon type=\"file\" />\r\n                  加热器\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"wk\">\r\n                <Link to={ROUTES.WORK_WK}>\r\n                  <Icon type=\"file\" />\r\n                  温控\r\n                </Link>\r\n              </Menu.Item>\r\n            </SubMenu>\r\n            <Menu.Item key=\"my\">\r\n              <Link to={ROUTES.MY_PAGE}>\r\n                <Icon type=\"project\" />\r\n                个人事务\r\n              </Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"family\">\r\n              <Link to={ROUTES.FAMILY_PAGE}>\r\n                <Icon type=\"home\" />家\r\n              </Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"todos\">\r\n              <Link to=\"/todos\">\r\n                <Icon type=\"home\" />\r\n                todos\r\n              </Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout id=\"main\">\r\n          <Header className={[\"header\", \"noPrint\"]}>\r\n            <LoginForm />\r\n          </Header>\r\n          <Content style={{ margin: \"10px 10px 0\" }}>\r\n            <div style={{ padding: 24, background: \"#fff\" }}>\r\n              {auth ? (\r\n                <Switch>\r\n                  <Route path={ROUTES.WORK_FLOW} exact>\r\n                    <WorkFlowPage />\r\n                  </Route>\r\n                  <Route path={ROUTES.CREATE_ORDER} exact>\r\n                    <CreateOrderForm />\r\n                  </Route>\r\n                  <Route path={ROUTES.WORK_ORDERS} exact>\r\n                    <WorkPage />\r\n                  </Route>\r\n                  <Route path={ROUTES.WORK_CERTIFICATES} exact>\r\n                    <CertificatesManagePage />\r\n                  </Route>\r\n                  <Route path={ROUTES.WORK_JRQ} exact>\r\n                    <JrqProduct />\r\n                  </Route>\r\n                  <Route path={ROUTES.WORK_WK} exact>\r\n                    <WkProduct />\r\n                  </Route>\r\n                  <Route path=\"/work\" exact>\r\n                    <WorkPage />\r\n                  </Route>\r\n                  <Route path={ROUTES.MY_PAGE}>\r\n                    <MyPage />\r\n                  </Route>\r\n                  <Route path={ROUTES.FAMILY_PAGE}>\r\n                    <FamilyPage />\r\n                  </Route>\r\n                  <Route\r\n                    path={ROUTES.ORDER_DETAIL}\r\n                    children={<OrderDetailPage />}\r\n                    exact\r\n                  />\r\n                  <Route\r\n                    path={`${ROUTES.ORDER_CONTRACT}/:id`}\r\n                    children={<ContractPage />}\r\n                    exact\r\n                  />\r\n                  <Route\r\n                    path={`${ROUTES.CERTIFICATE_PAGE}/:id`}\r\n                    children={<CertificatePage />}\r\n                    exact\r\n                  />\r\n                  <Route\r\n                    path={`${ROUTES.ORDER_SPEC}/:id`}\r\n                    children={<OrderSpecPage />}\r\n                    exact\r\n                  />\r\n                  <Route path={ROUTES.HOME_PAGE} exact>\r\n                    <WorkPage />\r\n                  </Route>\r\n                  <Route path=\"*\">\r\n                    <Result\r\n                      status=\"404\"\r\n                      title=\"404\"\r\n                      subTitle=\"抱歉，您访问的页面不存在\"\r\n                    />\r\n                  </Route>\r\n                </Switch>\r\n              ) : (\r\n                <Result\r\n                  status=\"403\"\r\n                  title=\"403\"\r\n                  subTitle=\"抱歉，您没有权限访问该页面\"\r\n                />\r\n              )}\r\n            </div>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}