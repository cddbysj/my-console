(this["webpackJsonpmy-console"]=this["webpackJsonpmy-console"]||[]).push([[2],{10:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"o",(function(){return c})),a.d(t,"n",(function(){return l})),a.d(t,"h",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"l",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"i",(function(){return m})),a.d(t,"m",(function(){return d})),a.d(t,"p",(function(){return p})),a.d(t,"k",(function(){return f})),a.d(t,"f",(function(){return E})),a.d(t,"e",(function(){return h})),a.d(t,"j",(function(){return b})),a.d(t,"c",(function(){return v}));var n="/",r="/createOrder",c="/orders",l="/order",o="/order/:id",i="/order/contract",u="/certificates",s="/order/certificate",m="/order/spec",d="/jrq",p="/wk",f="/business",E="/my",h="/memo",b="https://mail.qq.com/cgi-bin/frame_html?sid=2tq_5c2Dt8fOMkEf&r=ba4f18e27a212e38f7e5be5b900066ce",v="https://crm.xtcrm.com/lib/purchase/"},184:function(e,t,a){e.exports={productRow:"createOrderForm_productRow__29jCv",productCol:"createOrderForm_productCol__1P6Dg"}},22:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(241),l=a(114),o=a.n(l),i=(a(308),a(310),{apiKey:"AIzaSyCG7uQNMXfG_FiFb7XI7lSBgQDmz34oWFs",authDomain:"my-console-e0d53.firebaseapp.com",databaseURL:"https://my-console-e0d53.firebaseio.com",projectId:"my-console-e0d53",storageBucket:"my-console-e0d53.appspot.com",messagingSenderId:"1084312850586",appId:"1:1084312850586:web:69b29a32aead042c088f23",measurementId:"G-R5ZL6XRK3L"});t.a=new function e(){var t=this;Object(c.a)(this,e),this.serverTimestamp=function(){return o.a.firestore.FieldValue.serverTimestamp()},this.createUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.signInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.signOut=function(){return t.auth.signOut()},this.onAuthStateChanged=function(e,a){return t.auth.onAuthStateChanged((function(t){return t?e(t):a()}))},this.orders=function(){return t.db.collection("orders").orderBy("date.orderAt","desc").limit(100)},this.createOrder=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.db.collection("orders").add(e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.editOrder=function(e,a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(t.db.collection("orders").doc(e).update(a));case 2:case"end":return n.stop()}}))},this.removeOrder=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.db.collection("orders").doc(e).delete());case 2:return a.next=4,r.a.awrap(t.removeCertificates(e));case 4:case"end":return a.stop()}}))},this.toggleNameplatePrint=function(e,a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(t.db.collection("orders").doc(e).update({nameplate:a}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},this.toggleCertificatePrint=function(e,a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(t.db.collection("orders").doc(e).update({certificate:a}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},this.certificates=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_ACTIVE";switch(e){case"SHOW_ALL":return t.db.collection("certificates").orderBy("arrivalAt","desc").limit(30);case"SHOW_COMPLETED":return t.db.collection("certificates").where("printDone","==",!0).orderBy("arrivalAt","desc").limit(30);default:return t.db.collection("certificates").where("printDone","==",!1).orderBy("arrivalAt","desc")}},this.createCertificates=function(e,a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(t.db.collection("certificates").doc(e).set(a));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},this.removeCertificates=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.db.collection("certificates").doc(e).delete());case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.finishCertificatesPrint=function(e,a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(t.db.collection("certificates").doc(e).update({printDone:a}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))},this.sites=function(){return t.db.collection("sites")},this.createSite=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.db.collection("sites").add(e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.getMemo=function(){return t.db.collection("memo")},this.createMemo=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.db.collection("memo").add(e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.updateMemo=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.db.collection("memo").doc(e.id).update(e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},this.removeMemo=function(e){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(t.db.collection("memo").doc(e).delete());case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},o.a.initializeApp(i),this.auth=o.a.auth(),this.db=o.a.firestore()}},280:function(e,t,a){a(281),e.exports=a(538)},537:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);a(293);var n=a(6),r=a(0),c=a.n(r),l=a(4),o=a.n(l),i=a(267),u=a(63),s=a.n(u),m=(a(299),a(300),a(190)),d=(a(118),a(64)),p=(a(303),a(32)),f=(a(272),a(97)),E=a(28),h=a(67),b=a(549),v=a(548),y=a(547),w=a(546),x=a(545),g=a(544),O=a(543),k=a(30),C=a(22);function _(){var e=Object(r.useState)(null),t=Object(k.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){C.a.onAuthStateChanged((function(e){return n(e)}),(function(){return n(null)}))}),[]),a}a(98);var I=a(45),j=(a(47),a(12)),S=(a(117),a(13)),A=(a(119),a(26)),T=a(557),P=a(540),F=a(541);for(var M=function(e){var t,a=_(),n=a&&a.email,r=S.a.useForm(),l=Object(k.a)(r,1)[0],o=l.getFieldsError,i=l.getFieldError,u=l.isFieldTouched,s=u("email")&&i("email"),m=u("password")&&i("password");return n?c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement(j.a,{icon:c.a.createElement(T.a,null),style:{marginLeft:20},size:"small",onClick:function(){C.a.signOut()}},"\u767b\u51fa")):c.a.createElement(S.a,{layout:"inline",onFinish:function(e){var t=e.email,a=e.password;C.a.signInWithEmailAndPassword(t,a).then((function(e){A.a.success("\u6b22\u8fce",1)})).catch((function(e){return A.a.error(e.message)}))},form:l},c.a.createElement(S.a.Item,{validateStatus:s?"error":"",help:s||"",name:"email",rules:[{type:"email",message:"\u65e0\u6548\u7684\u7535\u5b50\u90ae\u7bb1"},{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u7535\u5b50\u90ae\u7bb1"}]},c.a.createElement(I.a,{prefix:c.a.createElement(P.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7535\u5b50\u90ae\u4ef6"})),c.a.createElement(S.a.Item,{validateStatus:m?"error":"",help:m||"",name:"password",rules:[{required:!0,message:"Please input your Password!"}]},c.a.createElement(I.a,{prefix:c.a.createElement(F.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"})),c.a.createElement(S.a.Item,null,c.a.createElement(j.a,{type:"primary",htmlType:"submit",disabled:(t=o(),Object.keys(t).some((function(e){return t[e]})))},"\u767b\u5f55")))},D=(a(450),a(189)),z=a(10),R=D.a.Step,B=function(e){var t=Object(r.useState)(0),a=Object(k.a)(t,2),n=a[0],l=a[1];return c.a.createElement(D.a,{current:n,size:"small",onChange:function(e){l(e)},style:{maxWidth:900}},c.a.createElement(R,{title:c.a.createElement(E.b,{to:z.m},"\u53c2\u6570\u786e\u8ba4")}),c.a.createElement(R,{title:c.a.createElement(E.b,{to:z.b},"\u65b0\u5efa\u8ba2\u5355")}),c.a.createElement(R,{title:c.a.createElement("a",{href:z.j,rel:"noopener noreferrer",target:"_blank"},"\u53d1\u9001\u5408\u540c")}),c.a.createElement(R,{title:c.a.createElement("a",{href:z.c,rel:"noopener noreferrer",target:"_blank"},"XTools")}),c.a.createElement(R,{title:c.a.createElement(E.b,{to:z.o},"\u94ed\u724c\u6253\u5370")}),c.a.createElement(R,{title:c.a.createElement(E.b,{to:z.l},"\u5408\u683c\u8bc1\u6253\u5370")}))},N=(a(191),a(115)),H=(a(192),a(116)),q=(a(270),a(110)),G=(a(199),a(34)),W=(a(200),a(43)),V=a(38),L=a(239),Y=(a(278),a(238)),U=a(542),K=a(539),Q=a(184),J=a.n(Q),X=Y.a.RangePicker,Z={model:"HQS",material:"304",quantity:1,weight:50,flow:20,heatFrom:5,heatTo:65,flangeStandard:"HG/T 20592-2009",pressure:"1.0"},$=[],ee=0;ee<10;ee++)$.push(Z);var te=function(e){var t=Object(h.f)(),a=t.location.state||{},n=a.id,l=a.date,o=a.consumer,i=a.products,u=a.flag,m=Object(r.useState)([0]),d=Object(k.a)(m,2),p=d[0],f=d[1],E="\u65b0\u5efa\u8ba2\u5355";return c.a.createElement(S.a,Object.assign({},{labelCol:{offset:2,span:6},wrapperCol:{span:12}},{onFinish:function(e){var a=e.date,r=e.products;r.length=Object.keys(r).length,(r=Array.from(r)).filter((function(e){return e.name}));var c=a[0].format("YYYY-MM-DD"),l=a[1].format("YYYY-MM-DD"),o=Object(V.a)({},e,{date:{orderAt:c,arrivalAt:l},nameplate:!1,certificate:!1,products:r});switch(u){case"EDIT_ORDER":C.a.editOrder(n,o).then((function(){A.a.success("\u8ba2\u5355\u66f4\u65b0\u6210\u529f",1),t.push(z.o)})).catch((function(e){return A.a.error(e.message)})),E="\u66f4\u65b0\u8ba2\u5355";break;case"COPY_ORDER":C.a.createOrder(o).then((function(){A.a.success("\u8ba2\u5355\u590d\u5236\u6210\u529f",1),t.push(z.o)})).catch((function(e){return A.a.error(e.message)})),E="\u590d\u5236\u8ba2\u5355";break;default:C.a.createOrder(o).then((function(){A.a.success("\u8ba2\u5355\u521b\u5efa\u6210\u529f",1),t.push(z.o)})).catch((function(e){return A.a.error(e.message)}))}},initialValues:{consumer:o||"",date:l||[s()(),s()().add(7,"days")],products:i||$}}),c.a.createElement(S.a.Item,{name:"consumer",label:"\u9500\u552e\u5ba2\u6237",wrapperCol:{span:8},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9500\u552e\u5ba2\u6237"},{whitespace:!0,message:"\u9500\u552e\u5ba2\u6237\u4e0d\u80fd\u4e3a\u7a7a\u767d\u5b57\u7b26"}]},c.a.createElement(I.a,{autoFocus:!0,allowClear:!0})),c.a.createElement(S.a.Item,{name:"date",label:"\u8d27\u671f",wrapperCol:{span:8},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d27\u671f"}]},c.a.createElement(X,{style:{width:"100%"}})),c.a.createElement(S.a.Item,{noStyle:!0},c.a.createElement(N.a,{gutter:10,className:J.a.productRow},p.map((function(e,t){return c.a.createElement(H.a,{key:t,span:8,pull:1===t?8:0,push:0===t?8:0,className:J.a.productCol},c.a.createElement(S.a.Item,{name:["products","".concat(t),"model"],label:"\u6b3e\u5f0f"},c.a.createElement(W.a.Group,{defaultValue:"HQS"},c.a.createElement(W.a,{value:"HQS"},"HQS"),c.a.createElement(W.a,{value:"HJ"},"HJ"))),c.a.createElement(S.a.Item,{name:["products","".concat(t),"name"],label:"\u4ea7\u54c1\u578b\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u578b\u53f7"},{whitespace:!0,message:"\u4ea7\u54c1\u578b\u53f7\u4e0d\u80fd\u4e3a\u7a7a\u767d\u5b57\u7b26"}]},c.a.createElement(I.a,{allowClear:!0})),c.a.createElement(S.a.Item,{name:["products","".concat(t),"material"],label:"\u6750\u8d28",rules:[{required:!0,message:"\u8bf7\u6307\u5b9a\u6750\u8d28"}]},c.a.createElement(G.a,{defaultValue:"304"},c.a.createElement(G.a.Option,{value:"304"},"304"),c.a.createElement(G.a.Option,{value:"\u78b3\u94a2"},"\u78b3\u94a2"),c.a.createElement(G.a.Option,{value:"\u5916\u58f3\u78b3\u94a2 \u82af\u4f53304"},"\u5916\u58f3\u78b3\u94a2 \u82af\u4f53304"),c.a.createElement(G.a.Option,{value:"316L"},"316L"))),c.a.createElement(S.a.Item,{name:["products","".concat(t),"quantity"],label:"\u6570\u91cf",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u6570\u91cf"}]},c.a.createElement(q.a,{min:1,max:99,defaultValue:1})),c.a.createElement(S.a.Item,{name:["products","".concat(t),"weight"],label:"\u91cd\u91cf kg"},c.a.createElement(W.a.Group,{defaultValue:50},c.a.createElement(W.a.Button,{value:8},8),c.a.createElement(W.a.Button,{value:15},15),c.a.createElement(W.a.Button,{value:50},50),c.a.createElement(W.a.Button,{value:200},200))),c.a.createElement(S.a.Item,{name:["products","".concat(t),"flow"],label:"\u6d41\u91cf t/h"},c.a.createElement(q.a,{min:1,max:2e3,step:10,defaultValue:20})),c.a.createElement(S.a.Item,{name:["products","".concat(t),"heatFrom"],label:"\u8fdb\u6c34\u6e29\u5ea6 \xb0C"},c.a.createElement(q.a,{min:1,max:160,defaultValue:5})),c.a.createElement(S.a.Item,{name:["products","".concat(t),"heatTo"],label:"\u51fa\u6c34\u6e29\u5ea6 \xb0C"},c.a.createElement(q.a,{min:1,max:200,defaultValue:65})),c.a.createElement(S.a.Item,{name:["products","".concat(t),"flangeStandard"],label:"\u6cd5\u5170\u6807\u51c6"},c.a.createElement(G.a,{defaultValue:"HG/T 20592-2009"},c.a.createElement(G.a.Option,{value:"GB/T 9119-2000"},"GB/T 9119-2000"),c.a.createElement(G.a.Option,{value:"HG/T 20592-2009"},"HG/T 20592-2009"),c.a.createElement(G.a.Option,{value:"GB/T 9119-2010"},"GB/T 9119-2000"),c.a.createElement(G.a.Option,{value:"HG/T 20615-2009"},"HG/T 20615-2009"))),c.a.createElement(S.a.Item,{name:["products","".concat(t),"pressure"],label:"\u538b\u529b MPa"},"1.0"))})))),c.a.createElement(S.a.Item,{wrapperCol:{span:8,offset:8}},c.a.createElement(j.a,{size:"large",type:"primary",htmlType:"submit",style:{width:"100%"}},E)),c.a.createElement(S.a.Item,null,c.a.createElement(j.a.Group,null,c.a.createElement(j.a,{disabled:p.length<=1,icon:c.a.createElement(U.a,null),onClick:function(){return f((function(e){return e.slice(0,e.length-1)}))}},"\u5220\u9664\u4ea7\u54c1"),c.a.createElement(j.a,{type:"primary",icon:c.a.createElement(K.a,null),onClick:function(){return f((function(e){return[].concat(Object(L.a)(e),[0])}))}},"\u589e\u52a0\u4ea7\u54c1"))))},ae=a(3),ne=a.n(ae),re=(a(201),a(109)),ce=(a(496),a(188)),le=(a(271),a(177)),oe=(a(146),a(73)),ie=(a(269),a(193)),ue=(a(268),a(145)),se=a(556),me=a(555),de=a(554),pe=a(553),fe=a(552),Ee=ue.a.Column,he=ie.a.Text,be=function(e){var t=Object(h.f)(),a=e.orders,n=e.onRemoveOrder,r=e.onToggleNameplatePrint,l=e.onToggleCertificatePrint,o=e.createCertificates,i=e.removeCertificates;return c.a.createElement("div",null,c.a.createElement(j.a,{type:"primary",onClick:function(){return t.push(z.b)}},"\u65b0\u5efa\u8ba2\u5355"),c.a.createElement(ue.a,{dataSource:a,rowKey:function(e){return e.id},pagination:{position:"top"},size:"middle"},c.a.createElement(Ee,{title:"\u4ea7\u54c1",dataIndex:"product",key:"product",render:function(e,t){return c.a.createElement(E.b,{to:{pathname:"".concat(z.n,"/").concat(t.id),state:t}},c.a.createElement(le.a,{size:"small",split:!1,dataSource:t.products,renderItem:function(e){return c.a.createElement(le.a.Item,null,c.a.createElement("span",null,c.a.createElement(oe.a,{color:"blue"},c.a.createElement("span",null,e.name)),c.a.createElement(he,{code:!0},c.a.createElement("span",null,e.quantity))))}}))}}),c.a.createElement(Ee,{title:"\u9500\u552e\u5ba2\u6237",dataIndex:"consumer",key:"consumer",render:function(e){return c.a.createElement(he,{copyable:!0},e)}}),c.a.createElement(Ee,{title:"\u91c7\u8d2d\u65e5\u671f",dataIndex:"orderAt",key:"orderAt",render:function(e,t){return c.a.createElement("span",null,t.date&&t.date.orderAt)}}),c.a.createElement(Ee,{title:"\u94ed\u724c",dataIndex:"nameplate",key:"nameplate",filters:[{text:"\u5df2\u6253\u5370",value:!0},{text:"\u672a\u6253\u5370",value:!1}],onFilter:function(e,t){return t.nameplate===e},render:function(e,t){return c.a.createElement(ce.a,{checked:t.nameplate,onChange:function(e){return function(e,t){return ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne.a.awrap(r(e,t));case 2:case"end":return a.stop()}}))}(t.id,e)},checkedChildren:c.a.createElement(se.a,null),unCheckedChildren:c.a.createElement(me.a,null),defaultChecked:!0})}}),c.a.createElement(Ee,{title:"\u5408\u683c\u8bc1",dataIndex:"certificate",key:"certificate",filters:[{text:"\u5df2\u6253\u5370",value:!0},{text:"\u672a\u6253\u5370",value:!1}],onFilter:function(e,t){return t.certificate===e},render:function(e,t){return c.a.createElement(ce.a,{checked:t.certificate,onChange:function(e){return function(e,t){var a,n,r,c,u;return ne.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=e.id,n=e.products,r=e.date.arrivalAt,s.next=3,ne.a.awrap(l(a,t));case 3:if(c={},n.forEach((function(e){var t=e.name,a=e.quantity,n=e.model;c[t]={model:n,quantity:a}})),u={arrivalAt:r,orderId:a,products:c,printDone:!1,preparePrintAt:Date.now()},!t){s.next=11;break}return s.next=9,ne.a.awrap(o(a,u));case 9:s.next=13;break;case 11:return s.next=13,ne.a.awrap(i(a));case 13:case"end":return s.stop()}}))}(t,e)},checkedChildren:c.a.createElement(se.a,null),unCheckedChildren:c.a.createElement(me.a,null),defaultChecked:!0})}}),c.a.createElement(Ee,{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return c.a.createElement("span",null,c.a.createElement(j.a,{type:"link",icon:c.a.createElement(de.a,null),onClick:function(){return e=a.id,ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne.a.awrap(n(e));case 3:A.a.success("\u5220\u9664\u8ba2\u5355\u6210\u529f",1),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),A.a.error("\u5220\u9664\u8ba2\u5355\u5931\u8d25",2.5);case 9:case"end":return t.stop()}}),null,null,[[0,6]]);var e}}),c.a.createElement(re.a,{type:"vertical"}),c.a.createElement(j.a,{type:"link",icon:c.a.createElement(pe.a,null),onClick:function(){return function(e){return t.push(z.b,Object(V.a)({},e,{flag:"EDIT_ORDER"}))}(a)}}),c.a.createElement(re.a,{type:"vertical"}),c.a.createElement(j.a,{type:"link",icon:c.a.createElement(fe.a,null),onClick:function(){return function(e){return t.push(z.b,Object(V.a)({},e,{flag:"COPY_ORDER"}))}(a)}}))}})))},ve=function(e){var t=Object(r.useState)(null),a=Object(k.a)(t,2),n=a[0],l=a[1];Object(r.useEffect)((function(){return C.a.orders().onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(V.a)({},e.data(),{id:e.id}))})),l(t)}))}),[]);return c.a.createElement("div",null,n?c.a.createElement(be,{orders:n,onRemoveOrder:function(e){return ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.a.awrap(C.a.removeOrder(e));case 2:case"end":return t.stop()}}))},onToggleNameplatePrint:function(e,t){return ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne.a.awrap(C.a.toggleNameplatePrint(e,t));case 2:case"end":return a.stop()}}))},onToggleCertificatePrint:function(e,t){return ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne.a.awrap(C.a.toggleCertificatePrint(e,t));case 2:case"end":return a.stop()}}))},createCertificates:function(e,t){return ne.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne.a.awrap(C.a.createCertificates(e,t));case 2:case"end":return a.stop()}}))},removeCertificates:function(e){return ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne.a.awrap(C.a.removeCertificates(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}}):c.a.createElement(d.a,null))},ye=a(55),we=a.n(ye),xe=a(551),ge=function(){var e=Object(h.g)().state,t=e.products,a=e.arrivalAt;return c.a.createElement("div",null,c.a.createElement("div",{className:we.a.noPrint},c.a.createElement(j.a,{icon:c.a.createElement(xe.a,null),type:"primary",onClick:function(){window.print()}},"\u6253\u5370")),c.a.createElement("div",{id:"certificate-card",className:we.a.cardArea},t.map((function(e,t){return c.a.createElement("div",{key:t,className:we.a.container},c.a.createElement("section",{className:we.a.cardHeader},c.a.createElement("p",{className:we.a.title},"SEMEM"),c.a.createElement("p",null,e.model," Heater"),c.a.createElement("p",null,"\u68c0\u9a8c\u5408\u683c\u8bc1\u660e\u4e66")),c.a.createElement("section",{className:we.a.cardBody},c.a.createElement("p",null,"\u540d\u79f0\uff1a",c.a.createElement("span",{className:we.a.productName},e.name)),c.a.createElement("p",null,"\u68c0\u9a8c\u5458\uff1a",c.a.createElement(oe.a,{color:"red"},"0306")),c.a.createElement("p",null,"\u68c0\u9a8c\u65e5\u671f\uff1a",a),c.a.createElement("p",null,"\u672c\u4ea7\u54c1\u7ecf\u68c0\u9a8c\u5408\u683c\uff0c\u7b26\u5408\u6807\u51c6\uff0c\u51c6\u4e88\u51fa\u5382\u3002")),c.a.createElement("section",{className:we.a.cardFooter},c.a.createElement("p",{className:we.a.seal},c.a.createElement(oe.a,{color:"red"},"\u897f\u95e8\u673a\u7535\u54c1\u8d28\u68c0\u9a8c\u4e2d\u5fc3")),c.a.createElement("p",null,"\u6e56\u5357\u897f\u95e8\u673a\u7535\u79d1\u6280\u6709\u9650\u516c\u53f8")))}))))},Oe=(a(279),a(236)),ke=function(e){var t=e.onClose,a=e.onCreateMemo;return c.a.createElement(S.a,{onFinish:function(e){var t=Object(V.a)({},e,{createAt:Date.now()});a(t),console.log("\u63d0\u4ea4\u7684\u5907\u5fd8\u5f55\uff1a",t)},onFinishFailed:function(){}},c.a.createElement(S.a.Item,{name:"title",rules:[{required:!0,whitespace:!0}]},c.a.createElement(I.a,{placeholder:"\u6807\u9898"})),c.a.createElement(S.a.Item,{name:"text",rules:[{required:!0,whitespace:!0}]},c.a.createElement(I.a.TextArea,{autoSize:{minRows:2},placeholder:"\u5728\u8fd9\u91cc\u8bb0\u5f55",allowClear:!0})),c.a.createElement(S.a.Item,null,c.a.createElement(j.a,{onClick:t},"\u53d6\u6d88"),c.a.createElement(j.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))},Ce=function(e){var t=e.onClose,a=e.onUpdateMemo,n=e.onRemoveMemo,r=e.activeMemo,l=S.a.useForm(),o=Object(k.a)(l,1)[0];o.setFieldsValue(r);return c.a.createElement(S.a,{form:o,onFinish:function(e){var t=Object(V.a)({},r,{},e,{createAt:Date.now()});a(t),console.log("\u63d0\u4ea4\u7684\u5907\u5fd8\u5f55\uff1a",t)},onFinishFailed:function(){}},c.a.createElement(S.a.Item,{name:"title"},c.a.createElement(I.a,{placeholder:"\u6807\u9898"})),c.a.createElement(S.a.Item,{name:"text"},c.a.createElement(I.a.TextArea,{autoSize:{minRows:2},placeholder:"\u5728\u8fd9\u91cc\u8bb0\u5f55",allowClear:!0})),c.a.createElement(S.a.Item,null,c.a.createElement(j.a,{onClick:t},"\u53d6\u6d88"),c.a.createElement(j.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")),c.a.createElement(S.a.Item,null,c.a.createElement(j.a,{onClick:n,type:"danger",icon:c.a.createElement(de.a,null)},"\u5220\u9664")))},_e=a(550),Ie=function(e){var t=e.memoList,a=e.enterEditMode;return t.map((function(e){return c.a.createElement(H.a,{flex:"1 1 300px",key:e.id},c.a.createElement("div",{style:{border:"1px solid #dedede",borderRadius:6,padding:8}},c.a.createElement("h3",null,e.title,c.a.createElement(j.a,{type:"link",icon:c.a.createElement(_e.a,null),onClick:function(){return a(e)}})),c.a.createElement("div",{style:{whiteSpace:"pre-line"}},e.text),c.a.createElement("sub",null,new Date(e.createAt).toLocaleDateString("zh-hans"))))}))},je=function(e){var t=Object(r.useState)(null),a=Object(k.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(!1),i=Object(k.a)(o,2),u=i[0],s=i[1],m=Object(r.useState)("create"),d=Object(k.a)(m,2),p=d[0],f=d[1],E=Object(r.useState)(null),h=Object(k.a)(E,2),b=h[0],v=h[1];Object(r.useEffect)((function(){return C.a.getMemo().orderBy("createAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(V.a)({},e.data(),{id:e.id})}));l(t)}))}),[]);var y=function(){s(!0)},w=function(){s(!1)};return c.a.createElement("div",null,c.a.createElement(j.a,{type:"primary",icon:c.a.createElement(K.a,null),onClick:function(){f("create"),v(null),y()}},"\u65b0\u5efa\u5907\u5fd8\u5f55"),c.a.createElement(re.a,null),c.a.createElement(N.a,{gutter:[16,16]},n&&c.a.createElement(Ie,{memoList:n,enterEditMode:function(e){f("edit"),v((function(t){return Object(V.a)({},t,{},e)})),y()}})),c.a.createElement(Oe.a,{width:720,onClose:w,visible:u,title:"create"===p?"\u65b0\u5efa\u5907\u5fd8\u5f55":"\u7f16\u8f91\u5907\u5fd8\u5f55"},"create"===p?c.a.createElement(ke,{onClose:w,onCreateMemo:function(e){return ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne.a.awrap(C.a.createMemo(e));case 3:A.a.success("\u65b0\u5efa\u6210\u529f"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),A.a.error("\u65b0\u5efa\u5931\u8d25\uff1a".concat(t.t0.message),2.5);case 9:return t.prev=9,w(),t.finish(9);case 12:case"end":return t.stop()}}),null,null,[[0,6,9,12]])}}):c.a.createElement(Ce,{onClose:w,onUpdateMemo:function(e){return ne.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne.a.awrap(C.a.updateMemo(e));case 3:A.a.success("\u66f4\u65b0\u6210\u529f"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),A.a.error("\u66f4\u65b0\u5931\u8d25\uff1a".concat(t.t0.message),2.5);case 9:return t.prev=9,w(),t.finish(9);case 12:case"end":return t.stop()}}),null,null,[[0,6,9,12]])},activeMemo:b,onRemoveMemo:function(){return ne.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.awrap(C.a.removeMemo(b.id));case 3:A.a.success("\u5220\u9664\u6210\u529f"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A.a.error("\u5220\u9664\u5931\u8d25:".concat(e.t0.message),2.5);case 9:return e.prev=9,w(),e.finish(9);case 12:case"end":return e.stop()}}),null,null,[[0,6,9,12]])}})))},Se=f.a.Header,Ae=f.a.Content,Te=f.a.Sider,Pe=Object(r.lazy)((function(){return a.e(10).then(a.bind(null,625))})),Fe=Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(14)]).then(a.bind(null,633))})),Me=Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(11)]).then(a.bind(null,630))})),De=Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,628))})),ze=Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(5),a.e(12)]).then(a.bind(null,629))})),Re=Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,626))})),Be=Object(r.lazy)((function(){return Promise.all([a.e(1),a.e(7)]).then(a.bind(null,631))})),Ne=Object(r.lazy)((function(){return a.e(13).then(a.bind(null,627))}));var He=function(){var e=_();return c.a.createElement(E.a,{basename:"/my-console"},c.a.createElement(f.a,null,e?c.a.createElement(Te,{style:{overflow:"auto",height:"100vh",position:"fixed",left:0}},c.a.createElement(p.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["order-table"]},c.a.createElement(p.a.Item,{key:"create-order"},c.a.createElement(E.b,{to:z.b},c.a.createElement(b.a,null)," \u65b0\u5efa\u8ba2\u5355")),c.a.createElement(p.a.Item,{key:"order-table"},c.a.createElement(E.b,{to:z.o},c.a.createElement(v.a,null)," \u8ba2\u5355")),c.a.createElement(p.a.Item,{key:"certificates"},c.a.createElement(E.b,{to:z.l},c.a.createElement(y.a,null)," \u5408\u683c\u8bc1")),c.a.createElement(p.a.Item,{key:"jrq"},c.a.createElement(E.b,{to:z.m},c.a.createElement(w.a,null)," \u52a0\u70ed\u5668")),c.a.createElement(p.a.Item,{key:"wk"},c.a.createElement(E.b,{to:z.p},c.a.createElement(w.a,null)," \u6e29\u63a7")),c.a.createElement(p.a.Item,{key:"businessInfo"},c.a.createElement(E.b,{to:z.k},c.a.createElement(x.a,null)," \u5546\u52a1\u4fe1\u606f")),c.a.createElement(p.a.Item,{key:"my"},c.a.createElement(E.b,{to:z.f},c.a.createElement(g.a,null)," \u4e2a\u4eba\u4e8b\u52a1")),c.a.createElement(p.a.Item,{key:"memo"},c.a.createElement(E.b,{to:z.e},c.a.createElement(O.a,null)," \u5907\u5fd8\u5f55")))):null,c.a.createElement(f.a,{id:"main"},c.a.createElement(Se,{className:["header","noPrint"]},e?c.a.createElement(B,null):null,c.a.createElement(M,null)),c.a.createElement(Ae,{style:{margin:"12px 12px 0"}},c.a.createElement("div",{style:{padding:24,background:"#fff"}},c.a.createElement(r.Suspense,{fallback:c.a.createElement("div",{style:{textAlign:"center",fontSize:32,margin:"20px 0",padding:"30vh 0"}},c.a.createElement(d.a,null))},e?c.a.createElement(h.c,null,c.a.createElement(h.a,{path:z.b,exact:!0},c.a.createElement(te,null)),c.a.createElement(h.a,{path:z.o,exact:!0},c.a.createElement(ve,null)),c.a.createElement(h.a,{path:z.l,exact:!0},c.a.createElement(De,null)),c.a.createElement(h.a,{path:z.m,exact:!0},c.a.createElement(ze,null)),c.a.createElement(h.a,{path:z.p,exact:!0},c.a.createElement(Fe,null)),c.a.createElement(h.a,{path:z.f},c.a.createElement(Me,null)),c.a.createElement(h.a,{path:z.h,children:c.a.createElement(Be,null),exact:!0}),c.a.createElement(h.a,{path:"".concat(z.g,"/:id"),children:c.a.createElement(Re,null),exact:!0}),c.a.createElement(h.a,{path:"".concat(z.a,"/:id"),children:c.a.createElement(ge,null),exact:!0}),c.a.createElement(h.a,{path:"".concat(z.i,"/:id"),children:c.a.createElement(Ne,null),exact:!0}),c.a.createElement(h.a,{path:z.k,exact:!0},c.a.createElement(Pe,null)),c.a.createElement(h.a,{path:z.e,exact:!0},c.a.createElement(je,null)),c.a.createElement(h.a,{path:z.d,exact:!0},c.a.createElement(ve,null)),c.a.createElement(h.a,{path:"*"},c.a.createElement(m.a,{status:"404",title:"404",subTitle:"\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"}))):c.a.createElement(m.a,{status:"403",title:"403",subTitle:"\u62b1\u6b49\uff0c\u60a8\u6ca1\u6709\u6743\u9650\u8bbf\u95ee\u8be5\u9875\u9762"})))))))};a(537),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.locale("zh-cn"),o.a.render(c.a.createElement(n.b,{locale:i.a},c.a.createElement(He,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){e.exports={planArea:"certificate_planArea__Ku4DY",ellipsis:"certificate_ellipsis__1UwWW",filter:"certificate_filter__2Fpk4",cardActions:"certificate_cardActions__xKUap",cardArea:"certificate_cardArea__2NJDz",container:"certificate_container__1oyF_",hiddenButton:"certificate_hiddenButton__23geO",cardHeader:"certificate_cardHeader__20zAE",title:"certificate_title__18uRd",cardBody:"certificate_cardBody__3lkfM",cardFooter:"certificate_cardFooter__1ml_S",seal:"certificate_seal__88Drb",productName:"certificate_productName__3mbgT",main:"certificate_main__1f8eu",noPrint:"certificate_noPrint__3MVFm"}}},[[280,3,4]]]);
//# sourceMappingURL=main.73ef09ca.chunk.js.map